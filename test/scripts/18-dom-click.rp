# DOM Click Tests
# Tests for dom.click with callback block

log "=== DOM Click Tests ==="

# Test 3: dom.click with callback block
log "Test 3: dom.click with callback"
clear
dom.click "test" with
  log "$1" $1
  log "$2" $2
  test.assertType $1 "object" "dom.click callback $1 should be an object"
  test.assertEqual $1.type "click" "dom.click callback $1.type should be 'click'"
  test.assertEqual $1.target "test" "dom.click callback $1.target should be 'test'"
  test.assertType $2 "string" "dom.click callback $2 should be a string"
  test.assertEqual $2 "test" "dom.click callback $2 should be 'test'"
endwith

clear
dom.click "test" with
  add 5 5
  return 15
endwith
test.assertEqual $ 15 "dom.click callback return value failed"

clear
dom.click "test" with into $result3
  add 10 20
endwith
test.assertEqual $result3 30 "dom.click callback with into assignment failed"

log "=== DOM Click Tests Complete ==="
