--- chunk:13 ---
# Together Command Tests
# Tests for parallel execution with together command

log "=== Together Command Tests ==="

# Test 1: together command - parallel execution
log "Test 1: together command"
together
  do
    math.add 10 20
    log "Test 1: Run!" $
  enddo
  do
    math.multiply 5 6
    log "Test 2: Run!" $
  enddo
endtogether

# Test 2: into
together
  do into $result1a
    math.add 5 5
    log "test 2-1." $
  enddo
  do into $result1b
    math.multiply 6 7
    log "test 2-2." $
  enddo
endtogether
test.assertEqual $result1a 10 "together - do into first block failed"
test.assertEqual $result1b 42 "together - do into second block failed"

# Test 3: set
together
  do $a into $result1c
    set $a 10
    math.multiply $a 2
    log "test 3-1." $
  enddo
  do $b into $result1d
    set $b 5
    math.multiply $b 3
    log "test 3-2." $
  enddo
endtogether
test.assertEqual $result1c 20 "together - do with params first block failed"
test.assertEqual $result1d 15 "together - do with params second block failed"

log "=== Together Command Tests Complete ==="
