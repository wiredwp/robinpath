[
  {
    "type": "comment",
    "lastValue": null,
    "comments": [
      {
        "text": "with callback function Tests\nTests \"with\" using repeat function",
        "codePos": {
          "startRow": 0,
          "startCol": 0,
          "endRow": 1,
          "endCol": 35
        },
        "inline": false
      }
    ],
    "lineNumber": 0
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 3,
      "startCol": 0,
      "endRow": 3,
      "endCol": 35
    },
    "trailingBlankLines": 1,
    "name": "log",
    "module": null,
    "args": [
      {
        "type": "string",
        "value": "=== Repeat Function Tests ==="
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 6,
      "startCol": 0,
      "endRow": 6,
      "endCol": 29
    },
    "comments": [
      {
        "text": "Test 2: repeat function with callback",
        "codePos": {
          "startRow": 5,
          "startCol": 0,
          "endRow": 5,
          "endCol": 38
        },
        "inline": false
      }
    ],
    "name": "log",
    "module": null,
    "args": [
      {
        "type": "string",
        "value": "Test 2: repeat function"
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 7,
      "startCol": 0,
      "endRow": 7,
      "endCol": 4
    },
    "name": "clear",
    "module": null,
    "args": []
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 8,
      "startCol": 0,
      "endRow": 8,
      "endCol": 7
    },
    "name": "repeat",
    "module": null,
    "args": [
      {
        "type": "number",
        "value": 5
      }
    ],
    "callback": {
      "type": "do",
      "body": [
        {
          "type": "command",
          "lastValue": null,
          "codePos": {
            "startRow": 9,
            "startCol": 2,
            "endRow": 9,
            "endCol": 37
          },
          "name": "log",
          "module": null,
          "args": [
            {
              "type": "string",
              "value": "-> Test 2a: with block is run"
            }
          ]
        },
        {
          "type": "ifBlock",
          "lastValue": null,
          "codePos": {
            "startRow": 10,
            "startCol": 2,
            "endRow": 12,
            "endCol": 6
          },
          "condition": {
            "type": "binary",
            "operator": "==",
            "left": {
              "type": "var",
              "name": "2",
              "path": [],
              "codePos": {
                "startRow": 10,
                "startCol": 5,
                "endRow": 10,
                "endCol": 6
              }
            },
            "right": {
              "type": "literal",
              "value": null,
              "codePos": {
                "startRow": 10,
                "startCol": 11,
                "endRow": 10,
                "endCol": 14
              }
            },
            "codePos": {
              "startRow": 10,
              "startCol": 5,
              "endRow": 10,
              "endCol": 9
            }
          },
          "conditionExpr": {
            "type": "binary",
            "operator": "==",
            "left": {
              "type": "var",
              "name": "2",
              "path": [],
              "codePos": {
                "startRow": 10,
                "startCol": 5,
                "endRow": 10,
                "endCol": 6
              }
            },
            "right": {
              "type": "literal",
              "value": null,
              "codePos": {
                "startRow": 10,
                "startCol": 11,
                "endRow": 10,
                "endCol": 14
              }
            },
            "codePos": {
              "startRow": 10,
              "startCol": 5,
              "endRow": 10,
              "endCol": 9
            }
          },
          "thenBranch": [
            {
              "type": "return",
              "lastValue": null,
              "codePos": {
                "startRow": 11,
                "startCol": 4,
                "endRow": 11,
                "endCol": 12
              },
              "value": {
                "type": "number",
                "value": 1
              }
            }
          ]
        },
        {
          "type": "command",
          "lastValue": null,
          "codePos": {
            "startRow": 13,
            "startCol": 2,
            "endRow": 13,
            "endCol": 10
          },
          "name": "add",
          "module": null,
          "args": [
            {
              "type": "var",
              "name": "2",
              "path": []
            },
            {
              "type": "number",
              "value": 1
            }
          ]
        }
      ]
    }
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 15,
      "startCol": 2,
      "endRow": 15,
      "endCol": 37
    },
    "name": "log",
    "module": null,
    "args": [
      {
        "type": "string",
        "value": "-> Test 2a: with block is run"
      }
    ]
  },
  {
    "type": "ifBlock",
    "lastValue": null,
    "codePos": {
      "startRow": 16,
      "startCol": 2,
      "endRow": 18,
      "endCol": 6
    },
    "condition": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 16,
          "startCol": 5,
          "endRow": 16,
          "endCol": 6
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 16,
          "startCol": 11,
          "endRow": 16,
          "endCol": 14
        }
      },
      "codePos": {
        "startRow": 16,
        "startCol": 5,
        "endRow": 16,
        "endCol": 9
      }
    },
    "conditionExpr": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 16,
          "startCol": 5,
          "endRow": 16,
          "endCol": 6
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 16,
          "startCol": 11,
          "endRow": 16,
          "endCol": 14
        }
      },
      "codePos": {
        "startRow": 16,
        "startCol": 5,
        "endRow": 16,
        "endCol": 9
      }
    },
    "thenBranch": [
      {
        "type": "return",
        "lastValue": null,
        "codePos": {
          "startRow": 17,
          "startCol": 4,
          "endRow": 17,
          "endCol": 12
        },
        "value": {
          "type": "number",
          "value": 1
        }
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 19,
      "startCol": 2,
      "endRow": 19,
      "endCol": 10
    },
    "name": "add",
    "module": null,
    "args": [
      {
        "type": "var",
        "name": "2",
        "path": []
      },
      {
        "type": "number",
        "value": 1
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 20,
      "startCol": 0,
      "endRow": 20,
      "endCol": 6
    },
    "name": "endwith",
    "module": null,
    "args": []
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 21,
      "startCol": 2,
      "endRow": 21,
      "endCol": 37
    },
    "name": "log",
    "module": null,
    "args": [
      {
        "type": "string",
        "value": "-> Test 2a: with block is run"
      }
    ]
  },
  {
    "type": "ifBlock",
    "lastValue": null,
    "codePos": {
      "startRow": 22,
      "startCol": 4,
      "endRow": 24,
      "endCol": 6
    },
    "condition": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 22,
          "startCol": 7,
          "endRow": 22,
          "endCol": 8
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 22,
          "startCol": 13,
          "endRow": 22,
          "endCol": 16
        }
      },
      "codePos": {
        "startRow": 22,
        "startCol": 7,
        "endRow": 22,
        "endCol": 11
      }
    },
    "conditionExpr": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 22,
          "startCol": 7,
          "endRow": 22,
          "endCol": 8
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 22,
          "startCol": 13,
          "endRow": 22,
          "endCol": 16
        }
      },
      "codePos": {
        "startRow": 22,
        "startCol": 7,
        "endRow": 22,
        "endCol": 11
      }
    },
    "thenBranch": [
      {
        "type": "return",
        "lastValue": null,
        "codePos": {
          "startRow": 23,
          "startCol": 4,
          "endRow": 23,
          "endCol": 12
        },
        "value": {
          "type": "number",
          "value": 1
        }
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 25,
      "startCol": 2,
      "endRow": 25,
      "endCol": 10
    },
    "name": "add",
    "module": null,
    "args": [
      {
        "type": "var",
        "name": "2",
        "path": []
      },
      {
        "type": "number",
        "value": 1
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 26,
      "startCol": 0,
      "endRow": 26,
      "endCol": 6
    },
    "name": "endwith",
    "module": null,
    "args": []
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 27,
      "startCol": 2,
      "endRow": 27,
      "endCol": 37
    },
    "name": "log",
    "module": null,
    "args": [
      {
        "type": "string",
        "value": "-> Test 2a: with block is run"
      }
    ]
  },
  {
    "type": "ifBlock",
    "lastValue": null,
    "codePos": {
      "startRow": 28,
      "startCol": 8,
      "endRow": 30,
      "endCol": 8
    },
    "condition": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 28,
          "startCol": 11,
          "endRow": 28,
          "endCol": 12
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 28,
          "startCol": 17,
          "endRow": 28,
          "endCol": 20
        }
      },
      "codePos": {
        "startRow": 28,
        "startCol": 11,
        "endRow": 28,
        "endCol": 15
      }
    },
    "conditionExpr": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 28,
          "startCol": 11,
          "endRow": 28,
          "endCol": 12
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 28,
          "startCol": 17,
          "endRow": 28,
          "endCol": 20
        }
      },
      "codePos": {
        "startRow": 28,
        "startCol": 11,
        "endRow": 28,
        "endCol": 15
      }
    },
    "thenBranch": [
      {
        "type": "return",
        "lastValue": null,
        "codePos": {
          "startRow": 29,
          "startCol": 6,
          "endRow": 29,
          "endCol": 14
        },
        "value": {
          "type": "number",
          "value": 1
        }
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 31,
      "startCol": 2,
      "endRow": 31,
      "endCol": 10
    },
    "name": "add",
    "module": null,
    "args": [
      {
        "type": "var",
        "name": "2",
        "path": []
      },
      {
        "type": "number",
        "value": 1
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 32,
      "startCol": 0,
      "endRow": 32,
      "endCol": 6
    },
    "name": "endwith",
    "module": null,
    "args": []
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 33,
      "startCol": 2,
      "endRow": 33,
      "endCol": 37
    },
    "name": "log",
    "module": null,
    "args": [
      {
        "type": "string",
        "value": "-> Test 2a: with block is run"
      }
    ]
  },
  {
    "type": "ifBlock",
    "lastValue": null,
    "codePos": {
      "startRow": 34,
      "startCol": 16,
      "endRow": 36,
      "endCol": 12
    },
    "condition": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 34,
          "startCol": 19,
          "endRow": 34,
          "endCol": 20
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 34,
          "startCol": 25,
          "endRow": 34,
          "endCol": 28
        }
      },
      "codePos": {
        "startRow": 34,
        "startCol": 19,
        "endRow": 34,
        "endCol": 23
      }
    },
    "conditionExpr": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 34,
          "startCol": 19,
          "endRow": 34,
          "endCol": 20
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 34,
          "startCol": 25,
          "endRow": 34,
          "endCol": 28
        }
      },
      "codePos": {
        "startRow": 34,
        "startCol": 19,
        "endRow": 34,
        "endCol": 23
      }
    },
    "thenBranch": [
      {
        "type": "return",
        "lastValue": null,
        "codePos": {
          "startRow": 35,
          "startCol": 10,
          "endRow": 35,
          "endCol": 18
        },
        "value": {
          "type": "number",
          "value": 1
        }
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 37,
      "startCol": 2,
      "endRow": 37,
      "endCol": 10
    },
    "name": "add",
    "module": null,
    "args": [
      {
        "type": "var",
        "name": "2",
        "path": []
      },
      {
        "type": "number",
        "value": 1
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 38,
      "startCol": 0,
      "endRow": 38,
      "endCol": 6
    },
    "name": "endwith",
    "module": null,
    "args": []
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 39,
      "startCol": 2,
      "endRow": 39,
      "endCol": 37
    },
    "name": "log",
    "module": null,
    "args": [
      {
        "type": "string",
        "value": "-> Test 2a: with block is run"
      }
    ]
  },
  {
    "type": "ifBlock",
    "lastValue": null,
    "codePos": {
      "startRow": 40,
      "startCol": 32,
      "endRow": 42,
      "endCol": 20
    },
    "condition": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 40,
          "startCol": 35,
          "endRow": 40,
          "endCol": 36
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 40,
          "startCol": 41,
          "endRow": 40,
          "endCol": 44
        }
      },
      "codePos": {
        "startRow": 40,
        "startCol": 35,
        "endRow": 40,
        "endCol": 39
      }
    },
    "conditionExpr": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 40,
          "startCol": 35,
          "endRow": 40,
          "endCol": 36
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 40,
          "startCol": 41,
          "endRow": 40,
          "endCol": 44
        }
      },
      "codePos": {
        "startRow": 40,
        "startCol": 35,
        "endRow": 40,
        "endCol": 39
      }
    },
    "thenBranch": [
      {
        "type": "return",
        "lastValue": null,
        "codePos": {
          "startRow": 41,
          "startCol": 18,
          "endRow": 41,
          "endCol": 26
        },
        "value": {
          "type": "number",
          "value": 1
        }
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 43,
      "startCol": 2,
      "endRow": 43,
      "endCol": 10
    },
    "name": "add",
    "module": null,
    "args": [
      {
        "type": "var",
        "name": "2",
        "path": []
      },
      {
        "type": "number",
        "value": 1
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 44,
      "startCol": 0,
      "endRow": 44,
      "endCol": 6
    },
    "name": "endwith",
    "module": null,
    "args": []
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 45,
      "startCol": 0,
      "endRow": 45,
      "endCol": 97
    },
    "trailingBlankLines": 1,
    "name": "test.assertEqual",
    "module": "test",
    "args": [
      {
        "type": "lastValue"
      },
      {
        "type": "number",
        "value": 5
      },
      {
        "type": "string",
        "value": "repeat should iterate 5 times and add 1 each time with explicit null check"
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 47,
      "startCol": 0,
      "endRow": 47,
      "endCol": 4
    },
    "name": "clear",
    "module": null,
    "args": []
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 48,
      "startCol": 0,
      "endRow": 48,
      "endCol": 7
    },
    "name": "repeat",
    "module": null,
    "args": [
      {
        "type": "number",
        "value": 3
      }
    ],
    "callback": {
      "type": "do",
      "body": [
        {
          "type": "command",
          "lastValue": null,
          "codePos": {
            "startRow": 49,
            "startCol": 2,
            "endRow": 49,
            "endCol": 37
          },
          "name": "log",
          "module": null,
          "args": [
            {
              "type": "string",
              "value": "-> Test 2b: with block is run"
            }
          ]
        },
        {
          "type": "ifBlock",
          "lastValue": null,
          "codePos": {
            "startRow": 50,
            "startCol": 2,
            "endRow": 52,
            "endCol": 6
          },
          "condition": {
            "type": "binary",
            "operator": "==",
            "left": {
              "type": "var",
              "name": "2",
              "path": [],
              "codePos": {
                "startRow": 50,
                "startCol": 5,
                "endRow": 50,
                "endCol": 6
              }
            },
            "right": {
              "type": "literal",
              "value": null,
              "codePos": {
                "startRow": 50,
                "startCol": 11,
                "endRow": 50,
                "endCol": 14
              }
            },
            "codePos": {
              "startRow": 50,
              "startCol": 5,
              "endRow": 50,
              "endCol": 9
            }
          },
          "conditionExpr": {
            "type": "binary",
            "operator": "==",
            "left": {
              "type": "var",
              "name": "2",
              "path": [],
              "codePos": {
                "startRow": 50,
                "startCol": 5,
                "endRow": 50,
                "endCol": 6
              }
            },
            "right": {
              "type": "literal",
              "value": null,
              "codePos": {
                "startRow": 50,
                "startCol": 11,
                "endRow": 50,
                "endCol": 14
              }
            },
            "codePos": {
              "startRow": 50,
              "startCol": 5,
              "endRow": 50,
              "endCol": 9
            }
          },
          "thenBranch": [
            {
              "type": "return",
              "lastValue": null,
              "codePos": {
                "startRow": 51,
                "startCol": 4,
                "endRow": 51,
                "endCol": 13
              },
              "value": {
                "type": "number",
                "value": 10
              }
            }
          ]
        },
        {
          "type": "command",
          "lastValue": null,
          "codePos": {
            "startRow": 53,
            "startCol": 2,
            "endRow": 53,
            "endCol": 10
          },
          "name": "add",
          "module": null,
          "args": [
            {
              "type": "var",
              "name": "2",
              "path": []
            },
            {
              "type": "number",
              "value": 5
            }
          ]
        },
        {
          "type": "return",
          "lastValue": null,
          "codePos": {
            "startRow": 54,
            "startCol": 2,
            "endRow": 54,
            "endCol": 10
          },
          "value": {
            "type": "lastValue"
          }
        }
      ]
    }
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 56,
      "startCol": 2,
      "endRow": 56,
      "endCol": 37
    },
    "name": "log",
    "module": null,
    "args": [
      {
        "type": "string",
        "value": "-> Test 2b: with block is run"
      }
    ]
  },
  {
    "type": "ifBlock",
    "lastValue": null,
    "codePos": {
      "startRow": 57,
      "startCol": 2,
      "endRow": 59,
      "endCol": 6
    },
    "condition": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 57,
          "startCol": 5,
          "endRow": 57,
          "endCol": 6
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 57,
          "startCol": 11,
          "endRow": 57,
          "endCol": 14
        }
      },
      "codePos": {
        "startRow": 57,
        "startCol": 5,
        "endRow": 57,
        "endCol": 9
      }
    },
    "conditionExpr": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 57,
          "startCol": 5,
          "endRow": 57,
          "endCol": 6
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 57,
          "startCol": 11,
          "endRow": 57,
          "endCol": 14
        }
      },
      "codePos": {
        "startRow": 57,
        "startCol": 5,
        "endRow": 57,
        "endCol": 9
      }
    },
    "thenBranch": [
      {
        "type": "return",
        "lastValue": null,
        "codePos": {
          "startRow": 58,
          "startCol": 4,
          "endRow": 58,
          "endCol": 13
        },
        "value": {
          "type": "number",
          "value": 10
        }
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 60,
      "startCol": 2,
      "endRow": 60,
      "endCol": 10
    },
    "name": "add",
    "module": null,
    "args": [
      {
        "type": "var",
        "name": "2",
        "path": []
      },
      {
        "type": "number",
        "value": 5
      }
    ]
  },
  {
    "type": "return",
    "lastValue": null,
    "codePos": {
      "startRow": 61,
      "startCol": 2,
      "endRow": 61,
      "endCol": 10
    },
    "value": {
      "type": "lastValue"
    }
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 62,
      "startCol": 0,
      "endRow": 62,
      "endCol": 6
    },
    "name": "endwith",
    "module": null,
    "args": []
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 63,
      "startCol": 2,
      "endRow": 63,
      "endCol": 37
    },
    "name": "log",
    "module": null,
    "args": [
      {
        "type": "string",
        "value": "-> Test 2b: with block is run"
      }
    ]
  },
  {
    "type": "ifBlock",
    "lastValue": null,
    "codePos": {
      "startRow": 64,
      "startCol": 4,
      "endRow": 66,
      "endCol": 6
    },
    "condition": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 64,
          "startCol": 7,
          "endRow": 64,
          "endCol": 8
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 64,
          "startCol": 13,
          "endRow": 64,
          "endCol": 16
        }
      },
      "codePos": {
        "startRow": 64,
        "startCol": 7,
        "endRow": 64,
        "endCol": 11
      }
    },
    "conditionExpr": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 64,
          "startCol": 7,
          "endRow": 64,
          "endCol": 8
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 64,
          "startCol": 13,
          "endRow": 64,
          "endCol": 16
        }
      },
      "codePos": {
        "startRow": 64,
        "startCol": 7,
        "endRow": 64,
        "endCol": 11
      }
    },
    "thenBranch": [
      {
        "type": "return",
        "lastValue": null,
        "codePos": {
          "startRow": 65,
          "startCol": 4,
          "endRow": 65,
          "endCol": 13
        },
        "value": {
          "type": "number",
          "value": 10
        }
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 67,
      "startCol": 2,
      "endRow": 67,
      "endCol": 10
    },
    "name": "add",
    "module": null,
    "args": [
      {
        "type": "var",
        "name": "2",
        "path": []
      },
      {
        "type": "number",
        "value": 5
      }
    ]
  },
  {
    "type": "return",
    "lastValue": null,
    "codePos": {
      "startRow": 68,
      "startCol": 2,
      "endRow": 68,
      "endCol": 10
    },
    "value": {
      "type": "lastValue"
    }
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 69,
      "startCol": 0,
      "endRow": 69,
      "endCol": 6
    },
    "name": "endwith",
    "module": null,
    "args": []
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 70,
      "startCol": 2,
      "endRow": 70,
      "endCol": 37
    },
    "name": "log",
    "module": null,
    "args": [
      {
        "type": "string",
        "value": "-> Test 2b: with block is run"
      }
    ]
  },
  {
    "type": "ifBlock",
    "lastValue": null,
    "codePos": {
      "startRow": 71,
      "startCol": 8,
      "endRow": 73,
      "endCol": 8
    },
    "condition": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 71,
          "startCol": 11,
          "endRow": 71,
          "endCol": 12
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 71,
          "startCol": 17,
          "endRow": 71,
          "endCol": 20
        }
      },
      "codePos": {
        "startRow": 71,
        "startCol": 11,
        "endRow": 71,
        "endCol": 15
      }
    },
    "conditionExpr": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 71,
          "startCol": 11,
          "endRow": 71,
          "endCol": 12
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 71,
          "startCol": 17,
          "endRow": 71,
          "endCol": 20
        }
      },
      "codePos": {
        "startRow": 71,
        "startCol": 11,
        "endRow": 71,
        "endCol": 15
      }
    },
    "thenBranch": [
      {
        "type": "return",
        "lastValue": null,
        "codePos": {
          "startRow": 72,
          "startCol": 6,
          "endRow": 72,
          "endCol": 15
        },
        "value": {
          "type": "number",
          "value": 10
        }
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 74,
      "startCol": 2,
      "endRow": 74,
      "endCol": 10
    },
    "name": "add",
    "module": null,
    "args": [
      {
        "type": "var",
        "name": "2",
        "path": []
      },
      {
        "type": "number",
        "value": 5
      }
    ]
  },
  {
    "type": "return",
    "lastValue": null,
    "codePos": {
      "startRow": 75,
      "startCol": 2,
      "endRow": 75,
      "endCol": 10
    },
    "value": {
      "type": "lastValue"
    }
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 76,
      "startCol": 0,
      "endRow": 76,
      "endCol": 6
    },
    "name": "endwith",
    "module": null,
    "args": []
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 77,
      "startCol": 2,
      "endRow": 77,
      "endCol": 37
    },
    "name": "log",
    "module": null,
    "args": [
      {
        "type": "string",
        "value": "-> Test 2b: with block is run"
      }
    ]
  },
  {
    "type": "ifBlock",
    "lastValue": null,
    "codePos": {
      "startRow": 78,
      "startCol": 16,
      "endRow": 80,
      "endCol": 12
    },
    "condition": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 78,
          "startCol": 19,
          "endRow": 78,
          "endCol": 20
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 78,
          "startCol": 25,
          "endRow": 78,
          "endCol": 28
        }
      },
      "codePos": {
        "startRow": 78,
        "startCol": 19,
        "endRow": 78,
        "endCol": 23
      }
    },
    "conditionExpr": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 78,
          "startCol": 19,
          "endRow": 78,
          "endCol": 20
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 78,
          "startCol": 25,
          "endRow": 78,
          "endCol": 28
        }
      },
      "codePos": {
        "startRow": 78,
        "startCol": 19,
        "endRow": 78,
        "endCol": 23
      }
    },
    "thenBranch": [
      {
        "type": "return",
        "lastValue": null,
        "codePos": {
          "startRow": 79,
          "startCol": 10,
          "endRow": 79,
          "endCol": 19
        },
        "value": {
          "type": "number",
          "value": 10
        }
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 81,
      "startCol": 2,
      "endRow": 81,
      "endCol": 10
    },
    "name": "add",
    "module": null,
    "args": [
      {
        "type": "var",
        "name": "2",
        "path": []
      },
      {
        "type": "number",
        "value": 5
      }
    ]
  },
  {
    "type": "return",
    "lastValue": null,
    "codePos": {
      "startRow": 82,
      "startCol": 2,
      "endRow": 82,
      "endCol": 10
    },
    "value": {
      "type": "lastValue"
    }
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 83,
      "startCol": 0,
      "endRow": 83,
      "endCol": 6
    },
    "name": "endwith",
    "module": null,
    "args": []
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 84,
      "startCol": 2,
      "endRow": 84,
      "endCol": 37
    },
    "name": "log",
    "module": null,
    "args": [
      {
        "type": "string",
        "value": "-> Test 2b: with block is run"
      }
    ]
  },
  {
    "type": "ifBlock",
    "lastValue": null,
    "codePos": {
      "startRow": 85,
      "startCol": 32,
      "endRow": 87,
      "endCol": 20
    },
    "condition": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 85,
          "startCol": 35,
          "endRow": 85,
          "endCol": 36
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 85,
          "startCol": 41,
          "endRow": 85,
          "endCol": 44
        }
      },
      "codePos": {
        "startRow": 85,
        "startCol": 35,
        "endRow": 85,
        "endCol": 39
      }
    },
    "conditionExpr": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 85,
          "startCol": 35,
          "endRow": 85,
          "endCol": 36
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 85,
          "startCol": 41,
          "endRow": 85,
          "endCol": 44
        }
      },
      "codePos": {
        "startRow": 85,
        "startCol": 35,
        "endRow": 85,
        "endCol": 39
      }
    },
    "thenBranch": [
      {
        "type": "return",
        "lastValue": null,
        "codePos": {
          "startRow": 86,
          "startCol": 18,
          "endRow": 86,
          "endCol": 27
        },
        "value": {
          "type": "number",
          "value": 10
        }
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 88,
      "startCol": 2,
      "endRow": 88,
      "endCol": 10
    },
    "name": "add",
    "module": null,
    "args": [
      {
        "type": "var",
        "name": "2",
        "path": []
      },
      {
        "type": "number",
        "value": 5
      }
    ]
  },
  {
    "type": "return",
    "lastValue": null,
    "codePos": {
      "startRow": 89,
      "startCol": 2,
      "endRow": 89,
      "endCol": 10
    },
    "value": {
      "type": "lastValue"
    }
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 90,
      "startCol": 0,
      "endRow": 90,
      "endCol": 6
    },
    "name": "endwith",
    "module": null,
    "args": []
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 91,
      "startCol": 0,
      "endRow": 91,
      "endCol": 92
    },
    "trailingBlankLines": 1,
    "name": "test.assertEqual",
    "module": "test",
    "args": [
      {
        "type": "lastValue"
      },
      {
        "type": "number",
        "value": 20
      },
      {
        "type": "string",
        "value": "repeat with explicit return should accumulate correctly (10 + 5 + 5)"
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 93,
      "startCol": 0,
      "endRow": 93,
      "endCol": 4
    },
    "name": "clear",
    "module": null,
    "args": []
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 94,
      "startCol": 0,
      "endRow": 94,
      "endCol": 7
    },
    "name": "repeat",
    "module": null,
    "args": [
      {
        "type": "number",
        "value": 4
      }
    ],
    "callback": {
      "type": "do",
      "body": [
        {
          "type": "command",
          "lastValue": null,
          "codePos": {
            "startRow": 95,
            "startCol": 2,
            "endRow": 95,
            "endCol": 37
          },
          "name": "log",
          "module": null,
          "args": [
            {
              "type": "string",
              "value": "-> Test 2c: with block is run"
            }
          ]
        },
        {
          "type": "ifBlock",
          "lastValue": null,
          "codePos": {
            "startRow": 96,
            "startCol": 2,
            "endRow": 98,
            "endCol": 6
          },
          "condition": {
            "type": "binary",
            "operator": "==",
            "left": {
              "type": "var",
              "name": "2",
              "path": [],
              "codePos": {
                "startRow": 96,
                "startCol": 5,
                "endRow": 96,
                "endCol": 6
              }
            },
            "right": {
              "type": "literal",
              "value": null,
              "codePos": {
                "startRow": 96,
                "startCol": 11,
                "endRow": 96,
                "endCol": 14
              }
            },
            "codePos": {
              "startRow": 96,
              "startCol": 5,
              "endRow": 96,
              "endCol": 9
            }
          },
          "conditionExpr": {
            "type": "binary",
            "operator": "==",
            "left": {
              "type": "var",
              "name": "2",
              "path": [],
              "codePos": {
                "startRow": 96,
                "startCol": 5,
                "endRow": 96,
                "endCol": 6
              }
            },
            "right": {
              "type": "literal",
              "value": null,
              "codePos": {
                "startRow": 96,
                "startCol": 11,
                "endRow": 96,
                "endCol": 14
              }
            },
            "codePos": {
              "startRow": 96,
              "startCol": 5,
              "endRow": 96,
              "endCol": 9
            }
          },
          "thenBranch": [
            {
              "type": "return",
              "lastValue": null,
              "codePos": {
                "startRow": 97,
                "startCol": 4,
                "endRow": 97,
                "endCol": 12
              },
              "value": {
                "type": "number",
                "value": 2
              }
            }
          ]
        },
        {
          "type": "command",
          "lastValue": null,
          "codePos": {
            "startRow": 99,
            "startCol": 2,
            "endRow": 99,
            "endCol": 20
          },
          "name": "math.multiply",
          "module": "math",
          "args": [
            {
              "type": "var",
              "name": "2",
              "path": []
            },
            {
              "type": "number",
              "value": 2
            }
          ]
        }
      ],
      "into": {
        "targetName": "result2",
        "targetPath": []
      }
    }
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 101,
      "startCol": 2,
      "endRow": 101,
      "endCol": 37
    },
    "name": "log",
    "module": null,
    "args": [
      {
        "type": "string",
        "value": "-> Test 2c: with block is run"
      }
    ]
  },
  {
    "type": "ifBlock",
    "lastValue": null,
    "codePos": {
      "startRow": 102,
      "startCol": 2,
      "endRow": 104,
      "endCol": 6
    },
    "condition": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 102,
          "startCol": 5,
          "endRow": 102,
          "endCol": 6
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 102,
          "startCol": 11,
          "endRow": 102,
          "endCol": 14
        }
      },
      "codePos": {
        "startRow": 102,
        "startCol": 5,
        "endRow": 102,
        "endCol": 9
      }
    },
    "conditionExpr": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 102,
          "startCol": 5,
          "endRow": 102,
          "endCol": 6
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 102,
          "startCol": 11,
          "endRow": 102,
          "endCol": 14
        }
      },
      "codePos": {
        "startRow": 102,
        "startCol": 5,
        "endRow": 102,
        "endCol": 9
      }
    },
    "thenBranch": [
      {
        "type": "return",
        "lastValue": null,
        "codePos": {
          "startRow": 103,
          "startCol": 4,
          "endRow": 103,
          "endCol": 12
        },
        "value": {
          "type": "number",
          "value": 2
        }
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 105,
      "startCol": 2,
      "endRow": 105,
      "endCol": 20
    },
    "name": "math.multiply",
    "module": "math",
    "args": [
      {
        "type": "var",
        "name": "2",
        "path": []
      },
      {
        "type": "number",
        "value": 2
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 106,
      "startCol": 0,
      "endRow": 106,
      "endCol": 6
    },
    "name": "endwith",
    "module": null,
    "args": []
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 107,
      "startCol": 2,
      "endRow": 107,
      "endCol": 37
    },
    "name": "log",
    "module": null,
    "args": [
      {
        "type": "string",
        "value": "-> Test 2c: with block is run"
      }
    ]
  },
  {
    "type": "ifBlock",
    "lastValue": null,
    "codePos": {
      "startRow": 108,
      "startCol": 4,
      "endRow": 110,
      "endCol": 6
    },
    "condition": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 108,
          "startCol": 7,
          "endRow": 108,
          "endCol": 8
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 108,
          "startCol": 13,
          "endRow": 108,
          "endCol": 16
        }
      },
      "codePos": {
        "startRow": 108,
        "startCol": 7,
        "endRow": 108,
        "endCol": 11
      }
    },
    "conditionExpr": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 108,
          "startCol": 7,
          "endRow": 108,
          "endCol": 8
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 108,
          "startCol": 13,
          "endRow": 108,
          "endCol": 16
        }
      },
      "codePos": {
        "startRow": 108,
        "startCol": 7,
        "endRow": 108,
        "endCol": 11
      }
    },
    "thenBranch": [
      {
        "type": "return",
        "lastValue": null,
        "codePos": {
          "startRow": 109,
          "startCol": 4,
          "endRow": 109,
          "endCol": 12
        },
        "value": {
          "type": "number",
          "value": 2
        }
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 111,
      "startCol": 2,
      "endRow": 111,
      "endCol": 20
    },
    "name": "math.multiply",
    "module": "math",
    "args": [
      {
        "type": "var",
        "name": "2",
        "path": []
      },
      {
        "type": "number",
        "value": 2
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 112,
      "startCol": 0,
      "endRow": 112,
      "endCol": 6
    },
    "name": "endwith",
    "module": null,
    "args": []
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 113,
      "startCol": 2,
      "endRow": 113,
      "endCol": 37
    },
    "name": "log",
    "module": null,
    "args": [
      {
        "type": "string",
        "value": "-> Test 2c: with block is run"
      }
    ]
  },
  {
    "type": "ifBlock",
    "lastValue": null,
    "codePos": {
      "startRow": 114,
      "startCol": 8,
      "endRow": 116,
      "endCol": 8
    },
    "condition": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 114,
          "startCol": 11,
          "endRow": 114,
          "endCol": 12
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 114,
          "startCol": 17,
          "endRow": 114,
          "endCol": 20
        }
      },
      "codePos": {
        "startRow": 114,
        "startCol": 11,
        "endRow": 114,
        "endCol": 15
      }
    },
    "conditionExpr": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 114,
          "startCol": 11,
          "endRow": 114,
          "endCol": 12
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 114,
          "startCol": 17,
          "endRow": 114,
          "endCol": 20
        }
      },
      "codePos": {
        "startRow": 114,
        "startCol": 11,
        "endRow": 114,
        "endCol": 15
      }
    },
    "thenBranch": [
      {
        "type": "return",
        "lastValue": null,
        "codePos": {
          "startRow": 115,
          "startCol": 6,
          "endRow": 115,
          "endCol": 14
        },
        "value": {
          "type": "number",
          "value": 2
        }
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 117,
      "startCol": 2,
      "endRow": 117,
      "endCol": 20
    },
    "name": "math.multiply",
    "module": "math",
    "args": [
      {
        "type": "var",
        "name": "2",
        "path": []
      },
      {
        "type": "number",
        "value": 2
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 118,
      "startCol": 0,
      "endRow": 118,
      "endCol": 6
    },
    "name": "endwith",
    "module": null,
    "args": []
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 119,
      "startCol": 2,
      "endRow": 119,
      "endCol": 37
    },
    "name": "log",
    "module": null,
    "args": [
      {
        "type": "string",
        "value": "-> Test 2c: with block is run"
      }
    ]
  },
  {
    "type": "ifBlock",
    "lastValue": null,
    "codePos": {
      "startRow": 120,
      "startCol": 16,
      "endRow": 122,
      "endCol": 12
    },
    "condition": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 120,
          "startCol": 19,
          "endRow": 120,
          "endCol": 20
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 120,
          "startCol": 25,
          "endRow": 120,
          "endCol": 28
        }
      },
      "codePos": {
        "startRow": 120,
        "startCol": 19,
        "endRow": 120,
        "endCol": 23
      }
    },
    "conditionExpr": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 120,
          "startCol": 19,
          "endRow": 120,
          "endCol": 20
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 120,
          "startCol": 25,
          "endRow": 120,
          "endCol": 28
        }
      },
      "codePos": {
        "startRow": 120,
        "startCol": 19,
        "endRow": 120,
        "endCol": 23
      }
    },
    "thenBranch": [
      {
        "type": "return",
        "lastValue": null,
        "codePos": {
          "startRow": 121,
          "startCol": 10,
          "endRow": 121,
          "endCol": 18
        },
        "value": {
          "type": "number",
          "value": 2
        }
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 123,
      "startCol": 2,
      "endRow": 123,
      "endCol": 20
    },
    "name": "math.multiply",
    "module": "math",
    "args": [
      {
        "type": "var",
        "name": "2",
        "path": []
      },
      {
        "type": "number",
        "value": 2
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 124,
      "startCol": 0,
      "endRow": 124,
      "endCol": 6
    },
    "name": "endwith",
    "module": null,
    "args": []
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 125,
      "startCol": 2,
      "endRow": 125,
      "endCol": 37
    },
    "name": "log",
    "module": null,
    "args": [
      {
        "type": "string",
        "value": "-> Test 2c: with block is run"
      }
    ]
  },
  {
    "type": "ifBlock",
    "lastValue": null,
    "codePos": {
      "startRow": 126,
      "startCol": 32,
      "endRow": 128,
      "endCol": 20
    },
    "condition": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 126,
          "startCol": 35,
          "endRow": 126,
          "endCol": 36
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 126,
          "startCol": 41,
          "endRow": 126,
          "endCol": 44
        }
      },
      "codePos": {
        "startRow": 126,
        "startCol": 35,
        "endRow": 126,
        "endCol": 39
      }
    },
    "conditionExpr": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 126,
          "startCol": 35,
          "endRow": 126,
          "endCol": 36
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 126,
          "startCol": 41,
          "endRow": 126,
          "endCol": 44
        }
      },
      "codePos": {
        "startRow": 126,
        "startCol": 35,
        "endRow": 126,
        "endCol": 39
      }
    },
    "thenBranch": [
      {
        "type": "return",
        "lastValue": null,
        "codePos": {
          "startRow": 127,
          "startCol": 18,
          "endRow": 127,
          "endCol": 26
        },
        "value": {
          "type": "number",
          "value": 2
        }
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 129,
      "startCol": 2,
      "endRow": 129,
      "endCol": 20
    },
    "name": "math.multiply",
    "module": "math",
    "args": [
      {
        "type": "var",
        "name": "2",
        "path": []
      },
      {
        "type": "number",
        "value": 2
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 130,
      "startCol": 0,
      "endRow": 130,
      "endCol": 6
    },
    "name": "endwith",
    "module": null,
    "args": []
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 131,
      "startCol": 0,
      "endRow": 131,
      "endCol": 91
    },
    "trailingBlankLines": 1,
    "name": "test.assertEqual",
    "module": "test",
    "args": [
      {
        "type": "var",
        "name": "result2",
        "path": []
      },
      {
        "type": "number",
        "value": 16
      },
      {
        "type": "string",
        "value": "repeat with into assignment should work (2 * 2 * 2 * 2 = 16)"
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 133,
      "startCol": 0,
      "endRow": 133,
      "endCol": 4
    },
    "name": "clear",
    "module": null,
    "args": []
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 134,
      "startCol": 0,
      "endRow": 134,
      "endCol": 7
    },
    "name": "repeat",
    "module": null,
    "args": [
      {
        "type": "number",
        "value": 0
      }
    ],
    "callback": {
      "type": "do",
      "body": [
        {
          "type": "command",
          "lastValue": null,
          "codePos": {
            "startRow": 135,
            "startCol": 2,
            "endRow": 135,
            "endCol": 54
          },
          "name": "log",
          "module": null,
          "args": [
            {
              "type": "string",
              "value": "-> Test 2d: with block is run (should not run)"
            }
          ]
        },
        {
          "type": "return",
          "lastValue": null,
          "codePos": {
            "startRow": 136,
            "startCol": 2,
            "endRow": 136,
            "endCol": 12
          },
          "value": {
            "type": "number",
            "value": 100
          }
        }
      ]
    }
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 138,
      "startCol": 0,
      "endRow": 138,
      "endCol": 63
    },
    "trailingBlankLines": 1,
    "name": "test.assertNull",
    "module": "test",
    "args": [
      {
        "type": "lastValue"
      },
      {
        "type": "string",
        "value": "repeat with 0 iterations should return null"
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 140,
      "startCol": 0,
      "endRow": 140,
      "endCol": 4
    },
    "name": "clear",
    "module": null,
    "args": []
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 141,
      "startCol": 0,
      "endRow": 141,
      "endCol": 7
    },
    "name": "repeat",
    "module": null,
    "args": [
      {
        "type": "number",
        "value": 5
      }
    ],
    "callback": {
      "type": "do",
      "body": [
        {
          "type": "command",
          "lastValue": null,
          "codePos": {
            "startRow": 142,
            "startCol": 2,
            "endRow": 142,
            "endCol": 37
          },
          "name": "log",
          "module": null,
          "args": [
            {
              "type": "string",
              "value": "-> Test 2e: with block is run"
            }
          ]
        },
        {
          "type": "ifBlock",
          "lastValue": null,
          "codePos": {
            "startRow": 143,
            "startCol": 2,
            "endRow": 145,
            "endCol": 6
          },
          "condition": {
            "type": "binary",
            "operator": "==",
            "left": {
              "type": "var",
              "name": "2",
              "path": [],
              "codePos": {
                "startRow": 143,
                "startCol": 5,
                "endRow": 143,
                "endCol": 6
              }
            },
            "right": {
              "type": "literal",
              "value": null,
              "codePos": {
                "startRow": 143,
                "startCol": 11,
                "endRow": 143,
                "endCol": 14
              }
            },
            "codePos": {
              "startRow": 143,
              "startCol": 5,
              "endRow": 143,
              "endCol": 9
            }
          },
          "conditionExpr": {
            "type": "binary",
            "operator": "==",
            "left": {
              "type": "var",
              "name": "2",
              "path": [],
              "codePos": {
                "startRow": 143,
                "startCol": 5,
                "endRow": 143,
                "endCol": 6
              }
            },
            "right": {
              "type": "literal",
              "value": null,
              "codePos": {
                "startRow": 143,
                "startCol": 11,
                "endRow": 143,
                "endCol": 14
              }
            },
            "codePos": {
              "startRow": 143,
              "startCol": 5,
              "endRow": 143,
              "endCol": 9
            }
          },
          "thenBranch": [
            {
              "type": "return",
              "lastValue": null,
              "codePos": {
                "startRow": 144,
                "startCol": 4,
                "endRow": 144,
                "endCol": 12
              },
              "value": {
                "type": "number",
                "value": 0
              }
            }
          ]
        },
        {
          "type": "command",
          "lastValue": null,
          "codePos": {
            "startRow": 146,
            "startCol": 2,
            "endRow": 146,
            "endCol": 11
          },
          "name": "add",
          "module": null,
          "args": [
            {
              "type": "var",
              "name": "2",
              "path": []
            },
            {
              "type": "var",
              "name": "1",
              "path": []
            }
          ]
        }
      ]
    }
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 148,
      "startCol": 2,
      "endRow": 148,
      "endCol": 37
    },
    "name": "log",
    "module": null,
    "args": [
      {
        "type": "string",
        "value": "-> Test 2e: with block is run"
      }
    ]
  },
  {
    "type": "ifBlock",
    "lastValue": null,
    "codePos": {
      "startRow": 149,
      "startCol": 2,
      "endRow": 151,
      "endCol": 6
    },
    "condition": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 149,
          "startCol": 5,
          "endRow": 149,
          "endCol": 6
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 149,
          "startCol": 11,
          "endRow": 149,
          "endCol": 14
        }
      },
      "codePos": {
        "startRow": 149,
        "startCol": 5,
        "endRow": 149,
        "endCol": 9
      }
    },
    "conditionExpr": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 149,
          "startCol": 5,
          "endRow": 149,
          "endCol": 6
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 149,
          "startCol": 11,
          "endRow": 149,
          "endCol": 14
        }
      },
      "codePos": {
        "startRow": 149,
        "startCol": 5,
        "endRow": 149,
        "endCol": 9
      }
    },
    "thenBranch": [
      {
        "type": "return",
        "lastValue": null,
        "codePos": {
          "startRow": 150,
          "startCol": 4,
          "endRow": 150,
          "endCol": 12
        },
        "value": {
          "type": "number",
          "value": 0
        }
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 152,
      "startCol": 2,
      "endRow": 152,
      "endCol": 11
    },
    "name": "add",
    "module": null,
    "args": [
      {
        "type": "var",
        "name": "2",
        "path": []
      },
      {
        "type": "var",
        "name": "1",
        "path": []
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 153,
      "startCol": 0,
      "endRow": 153,
      "endCol": 6
    },
    "name": "endwith",
    "module": null,
    "args": []
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 154,
      "startCol": 2,
      "endRow": 154,
      "endCol": 37
    },
    "name": "log",
    "module": null,
    "args": [
      {
        "type": "string",
        "value": "-> Test 2e: with block is run"
      }
    ]
  },
  {
    "type": "ifBlock",
    "lastValue": null,
    "codePos": {
      "startRow": 155,
      "startCol": 4,
      "endRow": 157,
      "endCol": 6
    },
    "condition": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 155,
          "startCol": 7,
          "endRow": 155,
          "endCol": 8
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 155,
          "startCol": 13,
          "endRow": 155,
          "endCol": 16
        }
      },
      "codePos": {
        "startRow": 155,
        "startCol": 7,
        "endRow": 155,
        "endCol": 11
      }
    },
    "conditionExpr": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 155,
          "startCol": 7,
          "endRow": 155,
          "endCol": 8
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 155,
          "startCol": 13,
          "endRow": 155,
          "endCol": 16
        }
      },
      "codePos": {
        "startRow": 155,
        "startCol": 7,
        "endRow": 155,
        "endCol": 11
      }
    },
    "thenBranch": [
      {
        "type": "return",
        "lastValue": null,
        "codePos": {
          "startRow": 156,
          "startCol": 4,
          "endRow": 156,
          "endCol": 12
        },
        "value": {
          "type": "number",
          "value": 0
        }
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 158,
      "startCol": 2,
      "endRow": 158,
      "endCol": 11
    },
    "name": "add",
    "module": null,
    "args": [
      {
        "type": "var",
        "name": "2",
        "path": []
      },
      {
        "type": "var",
        "name": "1",
        "path": []
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 159,
      "startCol": 0,
      "endRow": 159,
      "endCol": 6
    },
    "name": "endwith",
    "module": null,
    "args": []
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 160,
      "startCol": 2,
      "endRow": 160,
      "endCol": 37
    },
    "name": "log",
    "module": null,
    "args": [
      {
        "type": "string",
        "value": "-> Test 2e: with block is run"
      }
    ]
  },
  {
    "type": "ifBlock",
    "lastValue": null,
    "codePos": {
      "startRow": 161,
      "startCol": 8,
      "endRow": 163,
      "endCol": 8
    },
    "condition": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 161,
          "startCol": 11,
          "endRow": 161,
          "endCol": 12
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 161,
          "startCol": 17,
          "endRow": 161,
          "endCol": 20
        }
      },
      "codePos": {
        "startRow": 161,
        "startCol": 11,
        "endRow": 161,
        "endCol": 15
      }
    },
    "conditionExpr": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 161,
          "startCol": 11,
          "endRow": 161,
          "endCol": 12
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 161,
          "startCol": 17,
          "endRow": 161,
          "endCol": 20
        }
      },
      "codePos": {
        "startRow": 161,
        "startCol": 11,
        "endRow": 161,
        "endCol": 15
      }
    },
    "thenBranch": [
      {
        "type": "return",
        "lastValue": null,
        "codePos": {
          "startRow": 162,
          "startCol": 6,
          "endRow": 162,
          "endCol": 14
        },
        "value": {
          "type": "number",
          "value": 0
        }
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 164,
      "startCol": 2,
      "endRow": 164,
      "endCol": 11
    },
    "name": "add",
    "module": null,
    "args": [
      {
        "type": "var",
        "name": "2",
        "path": []
      },
      {
        "type": "var",
        "name": "1",
        "path": []
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 165,
      "startCol": 0,
      "endRow": 165,
      "endCol": 6
    },
    "name": "endwith",
    "module": null,
    "args": []
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 166,
      "startCol": 2,
      "endRow": 166,
      "endCol": 37
    },
    "name": "log",
    "module": null,
    "args": [
      {
        "type": "string",
        "value": "-> Test 2e: with block is run"
      }
    ]
  },
  {
    "type": "ifBlock",
    "lastValue": null,
    "codePos": {
      "startRow": 167,
      "startCol": 16,
      "endRow": 169,
      "endCol": 12
    },
    "condition": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 167,
          "startCol": 19,
          "endRow": 167,
          "endCol": 20
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 167,
          "startCol": 25,
          "endRow": 167,
          "endCol": 28
        }
      },
      "codePos": {
        "startRow": 167,
        "startCol": 19,
        "endRow": 167,
        "endCol": 23
      }
    },
    "conditionExpr": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 167,
          "startCol": 19,
          "endRow": 167,
          "endCol": 20
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 167,
          "startCol": 25,
          "endRow": 167,
          "endCol": 28
        }
      },
      "codePos": {
        "startRow": 167,
        "startCol": 19,
        "endRow": 167,
        "endCol": 23
      }
    },
    "thenBranch": [
      {
        "type": "return",
        "lastValue": null,
        "codePos": {
          "startRow": 168,
          "startCol": 10,
          "endRow": 168,
          "endCol": 18
        },
        "value": {
          "type": "number",
          "value": 0
        }
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 170,
      "startCol": 2,
      "endRow": 170,
      "endCol": 11
    },
    "name": "add",
    "module": null,
    "args": [
      {
        "type": "var",
        "name": "2",
        "path": []
      },
      {
        "type": "var",
        "name": "1",
        "path": []
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 171,
      "startCol": 0,
      "endRow": 171,
      "endCol": 6
    },
    "name": "endwith",
    "module": null,
    "args": []
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 172,
      "startCol": 2,
      "endRow": 172,
      "endCol": 37
    },
    "name": "log",
    "module": null,
    "args": [
      {
        "type": "string",
        "value": "-> Test 2e: with block is run"
      }
    ]
  },
  {
    "type": "ifBlock",
    "lastValue": null,
    "codePos": {
      "startRow": 173,
      "startCol": 32,
      "endRow": 175,
      "endCol": 20
    },
    "condition": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 173,
          "startCol": 35,
          "endRow": 173,
          "endCol": 36
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 173,
          "startCol": 41,
          "endRow": 173,
          "endCol": 44
        }
      },
      "codePos": {
        "startRow": 173,
        "startCol": 35,
        "endRow": 173,
        "endCol": 39
      }
    },
    "conditionExpr": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 173,
          "startCol": 35,
          "endRow": 173,
          "endCol": 36
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 173,
          "startCol": 41,
          "endRow": 173,
          "endCol": 44
        }
      },
      "codePos": {
        "startRow": 173,
        "startCol": 35,
        "endRow": 173,
        "endCol": 39
      }
    },
    "thenBranch": [
      {
        "type": "return",
        "lastValue": null,
        "codePos": {
          "startRow": 174,
          "startCol": 18,
          "endRow": 174,
          "endCol": 26
        },
        "value": {
          "type": "number",
          "value": 0
        }
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 176,
      "startCol": 2,
      "endRow": 176,
      "endCol": 11
    },
    "name": "add",
    "module": null,
    "args": [
      {
        "type": "var",
        "name": "2",
        "path": []
      },
      {
        "type": "var",
        "name": "1",
        "path": []
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 177,
      "startCol": 0,
      "endRow": 177,
      "endCol": 6
    },
    "name": "endwith",
    "module": null,
    "args": []
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 178,
      "startCol": 0,
      "endRow": 178,
      "endCol": 78
    },
    "trailingBlankLines": 1,
    "name": "test.assertEqual",
    "module": "test",
    "args": [
      {
        "type": "lastValue"
      },
      {
        "type": "number",
        "value": 10
      },
      {
        "type": "string",
        "value": "repeat should accumulate index values (0+1+2+3+4 = 10)"
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 181,
      "startCol": 0,
      "endRow": 181,
      "endCol": 49
    },
    "comments": [
      {
        "text": "Test 21: Repeat with subexpression using $1",
        "codePos": {
          "startRow": 180,
          "startCol": 0,
          "endRow": 180,
          "endCol": 44
        },
        "inline": false
      }
    ],
    "name": "log",
    "module": null,
    "args": [
      {
        "type": "string",
        "value": "Test 21: Repeat with subexpression using $1"
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 182,
      "startCol": 0,
      "endRow": 182,
      "endCol": 4
    },
    "name": "clear",
    "module": null,
    "args": []
  },
  {
    "type": "assignment",
    "lastValue": null,
    "codePos": {
      "startRow": 183,
      "startCol": 0,
      "endRow": 183,
      "endCol": 7
    },
    "targetName": "sum",
    "targetPath": [],
    "literalValue": 0,
    "literalValueType": "number"
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 184,
      "startCol": 0,
      "endRow": 184,
      "endCol": 7
    },
    "name": "repeat",
    "module": null,
    "args": [
      {
        "type": "number",
        "value": 5
      }
    ],
    "callback": {
      "type": "do",
      "body": [
        {
          "type": "command",
          "lastValue": null,
          "codePos": {
            "startRow": 185,
            "startCol": 2,
            "endRow": 185,
            "endCol": 37
          },
          "name": "log",
          "module": null,
          "args": [
            {
              "type": "string",
              "value": "-> Test 21: with block is run"
            }
          ]
        },
        {
          "type": "assignment",
          "lastValue": null,
          "codePos": {
            "startRow": 187,
            "startCol": 2,
            "endRow": 187,
            "endCol": 23
          },
          "targetName": "sum",
          "targetPath": [],
          "command": {
            "type": "command",
            "lastValue": null,
            "codePos": {
              "startRow": 187,
              "startCol": 9,
              "endRow": 187,
              "endCol": 23
            },
            "name": "_subexpr",
            "module": null,
            "args": [
              {
                "type": "subexpression",
                "body": [
                  {
                    "type": "command",
                    "lastValue": null,
                    "codePos": {
                      "startRow": 187,
                      "startCol": 11,
                      "endRow": 187,
                      "endCol": 22
                    },
                    "name": "add",
                    "module": null,
                    "args": [
                      {
                        "type": "var",
                        "name": "sum",
                        "path": []
                      },
                      {
                        "type": "var",
                        "name": "1",
                        "path": []
                      }
                    ]
                  }
                ],
                "codePos": {
                  "startRow": 187,
                  "startCol": 9,
                  "endRow": 187,
                  "endCol": 23
                }
              }
            ]
          }
        }
      ]
    }
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 189,
      "startCol": 0,
      "endRow": 189,
      "endCol": 96
    },
    "trailingBlankLines": 1,
    "name": "test.assertEqual",
    "module": "test",
    "args": [
      {
        "type": "var",
        "name": "sum",
        "path": []
      },
      {
        "type": "number",
        "value": 10
      },
      {
        "type": "string",
        "value": "repeat with subexpression should access $1 correctly (0+1+2+3+4 = 10)"
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 192,
      "startCol": 0,
      "endRow": 192,
      "endCol": 46
    },
    "comments": [
      {
        "text": "Test 22: Repeat with $1 used directly and in subexpression",
        "codePos": {
          "startRow": 191,
          "startCol": 0,
          "endRow": 191,
          "endCol": 59
        },
        "inline": false
      }
    ],
    "name": "log",
    "module": null,
    "args": [
      {
        "type": "string",
        "value": "Test 22: Repeat with $1 in subexpression"
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 193,
      "startCol": 0,
      "endRow": 193,
      "endCol": 4
    },
    "name": "clear",
    "module": null,
    "args": []
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 194,
      "startCol": 0,
      "endRow": 194,
      "endCol": 7
    },
    "name": "repeat",
    "module": null,
    "args": [
      {
        "type": "number",
        "value": 5
      }
    ],
    "callback": {
      "type": "do",
      "body": [
        {
          "type": "command",
          "lastValue": null,
          "codePos": {
            "startRow": 195,
            "startCol": 2,
            "endRow": 195,
            "endCol": 37
          },
          "name": "log",
          "module": null,
          "args": [
            {
              "type": "string",
              "value": "-> Test 22: with block is run"
            }
          ]
        },
        {
          "type": "command",
          "lastValue": null,
          "codePos": {
            "startRow": 196,
            "startCol": 2,
            "endRow": 196,
            "endCol": 12
          },
          "name": "log",
          "module": null,
          "args": [
            {
              "type": "string",
              "value": ">"
            },
            {
              "type": "var",
              "name": "1",
              "path": []
            }
          ]
        },
        {
          "type": "return",
          "lastValue": null,
          "codePos": {
            "startRow": 197,
            "startCol": 2,
            "endRow": 197,
            "endCol": 20
          },
          "value": {
            "type": "subexpression",
            "body": [
              {
                "type": "command",
                "lastValue": null,
                "codePos": {
                  "startRow": 197,
                  "startCol": 11,
                  "endRow": 197,
                  "endCol": 19
                },
                "name": "add",
                "module": null,
                "args": [
                  {
                    "type": "var",
                    "name": "1",
                    "path": []
                  },
                  {
                    "type": "number",
                    "value": 2
                  }
                ]
              }
            ],
            "codePos": {
              "startRow": 197,
              "startCol": 9,
              "endRow": 197,
              "endCol": 20
            }
          }
        }
      ]
    }
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 200,
      "startCol": 0,
      "endRow": 200,
      "endCol": 76
    },
    "comments": [
      {
        "text": "Last value should be 6 (from last iteration: add 4 2)",
        "codePos": {
          "startRow": 199,
          "startCol": 0,
          "endRow": 199,
          "endCol": 54
        },
        "inline": false
      }
    ],
    "trailingBlankLines": 1,
    "name": "test.assertEqual",
    "module": "test",
    "args": [
      {
        "type": "lastValue"
      },
      {
        "type": "number",
        "value": 6
      },
      {
        "type": "string",
        "value": "repeat with $1 in subexpression should work correctly"
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 203,
      "startCol": 0,
      "endRow": 203,
      "endCol": 53
    },
    "comments": [
      {
        "text": "Test 23: Repeat with $1 and $2 in subexpression",
        "codePos": {
          "startRow": 202,
          "startCol": 0,
          "endRow": 202,
          "endCol": 48
        },
        "inline": false
      }
    ],
    "name": "log",
    "module": null,
    "args": [
      {
        "type": "string",
        "value": "Test 23: Repeat with $1 and $2 in subexpression"
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 204,
      "startCol": 0,
      "endRow": 204,
      "endCol": 4
    },
    "name": "clear",
    "module": null,
    "args": []
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 205,
      "startCol": 0,
      "endRow": 205,
      "endCol": 7
    },
    "name": "repeat",
    "module": null,
    "args": [
      {
        "type": "number",
        "value": 3
      }
    ],
    "callback": {
      "type": "do",
      "body": [
        {
          "type": "command",
          "lastValue": null,
          "codePos": {
            "startRow": 206,
            "startCol": 2,
            "endRow": 206,
            "endCol": 37
          },
          "name": "log",
          "module": null,
          "args": [
            {
              "type": "string",
              "value": "-> Test 23: with block is run"
            }
          ]
        },
        {
          "type": "ifBlock",
          "lastValue": null,
          "codePos": {
            "startRow": 207,
            "startCol": 2,
            "endRow": 209,
            "endCol": 6
          },
          "condition": {
            "type": "binary",
            "operator": "==",
            "left": {
              "type": "var",
              "name": "2",
              "path": [],
              "codePos": {
                "startRow": 207,
                "startCol": 5,
                "endRow": 207,
                "endCol": 6
              }
            },
            "right": {
              "type": "literal",
              "value": null,
              "codePos": {
                "startRow": 207,
                "startCol": 11,
                "endRow": 207,
                "endCol": 14
              }
            },
            "codePos": {
              "startRow": 207,
              "startCol": 5,
              "endRow": 207,
              "endCol": 9
            }
          },
          "conditionExpr": {
            "type": "binary",
            "operator": "==",
            "left": {
              "type": "var",
              "name": "2",
              "path": [],
              "codePos": {
                "startRow": 207,
                "startCol": 5,
                "endRow": 207,
                "endCol": 6
              }
            },
            "right": {
              "type": "literal",
              "value": null,
              "codePos": {
                "startRow": 207,
                "startCol": 11,
                "endRow": 207,
                "endCol": 14
              }
            },
            "codePos": {
              "startRow": 207,
              "startCol": 5,
              "endRow": 207,
              "endCol": 9
            }
          },
          "thenBranch": [
            {
              "type": "return",
              "lastValue": null,
              "codePos": {
                "startRow": 208,
                "startCol": 4,
                "endRow": 208,
                "endCol": 12
              },
              "value": {
                "type": "number",
                "value": 0
              }
            }
          ]
        },
        {
          "type": "assignment",
          "lastValue": null,
          "codePos": {
            "startRow": 210,
            "startCol": 2,
            "endRow": 210,
            "endCol": 24
          },
          "targetName": "result",
          "targetPath": [],
          "command": {
            "type": "command",
            "lastValue": null,
            "codePos": {
              "startRow": 210,
              "startCol": 12,
              "endRow": 210,
              "endCol": 24
            },
            "name": "_subexpr",
            "module": null,
            "args": [
              {
                "type": "subexpression",
                "body": [
                  {
                    "type": "command",
                    "lastValue": null,
                    "codePos": {
                      "startRow": 210,
                      "startCol": 14,
                      "endRow": 210,
                      "endCol": 23
                    },
                    "name": "add",
                    "module": null,
                    "args": [
                      {
                        "type": "var",
                        "name": "1",
                        "path": []
                      },
                      {
                        "type": "var",
                        "name": "2",
                        "path": []
                      }
                    ]
                  }
                ],
                "codePos": {
                  "startRow": 210,
                  "startCol": 12,
                  "endRow": 210,
                  "endCol": 24
                }
              }
            ]
          }
        },
        {
          "type": "return",
          "lastValue": null,
          "codePos": {
            "startRow": 211,
            "startCol": 2,
            "endRow": 211,
            "endCol": 16
          },
          "value": {
            "type": "var",
            "name": "result",
            "path": []
          }
        }
      ]
    }
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 213,
      "startCol": 2,
      "endRow": 213,
      "endCol": 37
    },
    "name": "log",
    "module": null,
    "args": [
      {
        "type": "string",
        "value": "-> Test 23: with block is run"
      }
    ]
  },
  {
    "type": "ifBlock",
    "lastValue": null,
    "codePos": {
      "startRow": 214,
      "startCol": 2,
      "endRow": 216,
      "endCol": 6
    },
    "condition": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 214,
          "startCol": 5,
          "endRow": 214,
          "endCol": 6
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 214,
          "startCol": 11,
          "endRow": 214,
          "endCol": 14
        }
      },
      "codePos": {
        "startRow": 214,
        "startCol": 5,
        "endRow": 214,
        "endCol": 9
      }
    },
    "conditionExpr": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 214,
          "startCol": 5,
          "endRow": 214,
          "endCol": 6
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 214,
          "startCol": 11,
          "endRow": 214,
          "endCol": 14
        }
      },
      "codePos": {
        "startRow": 214,
        "startCol": 5,
        "endRow": 214,
        "endCol": 9
      }
    },
    "thenBranch": [
      {
        "type": "return",
        "lastValue": null,
        "codePos": {
          "startRow": 215,
          "startCol": 4,
          "endRow": 215,
          "endCol": 12
        },
        "value": {
          "type": "number",
          "value": 0
        }
      }
    ]
  },
  {
    "type": "assignment",
    "lastValue": null,
    "codePos": {
      "startRow": 217,
      "startCol": 2,
      "endRow": 217,
      "endCol": 24
    },
    "targetName": "result",
    "targetPath": [],
    "command": {
      "type": "command",
      "lastValue": null,
      "codePos": {
        "startRow": 217,
        "startCol": 12,
        "endRow": 217,
        "endCol": 24
      },
      "name": "_subexpr",
      "module": null,
      "args": [
        {
          "type": "subexpression",
          "body": [
            {
              "type": "command",
              "lastValue": null,
              "codePos": {
                "startRow": 217,
                "startCol": 14,
                "endRow": 217,
                "endCol": 23
              },
              "name": "add",
              "module": null,
              "args": [
                {
                  "type": "var",
                  "name": "1",
                  "path": []
                },
                {
                  "type": "var",
                  "name": "2",
                  "path": []
                }
              ]
            }
          ],
          "codePos": {
            "startRow": 217,
            "startCol": 12,
            "endRow": 217,
            "endCol": 24
          }
        }
      ]
    }
  },
  {
    "type": "return",
    "lastValue": null,
    "codePos": {
      "startRow": 218,
      "startCol": 2,
      "endRow": 218,
      "endCol": 16
    },
    "value": {
      "type": "var",
      "name": "result",
      "path": []
    }
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 219,
      "startCol": 0,
      "endRow": 219,
      "endCol": 6
    },
    "name": "endwith",
    "module": null,
    "args": []
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 220,
      "startCol": 2,
      "endRow": 220,
      "endCol": 37
    },
    "name": "log",
    "module": null,
    "args": [
      {
        "type": "string",
        "value": "-> Test 23: with block is run"
      }
    ]
  },
  {
    "type": "ifBlock",
    "lastValue": null,
    "codePos": {
      "startRow": 221,
      "startCol": 4,
      "endRow": 223,
      "endCol": 6
    },
    "condition": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 221,
          "startCol": 7,
          "endRow": 221,
          "endCol": 8
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 221,
          "startCol": 13,
          "endRow": 221,
          "endCol": 16
        }
      },
      "codePos": {
        "startRow": 221,
        "startCol": 7,
        "endRow": 221,
        "endCol": 11
      }
    },
    "conditionExpr": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 221,
          "startCol": 7,
          "endRow": 221,
          "endCol": 8
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 221,
          "startCol": 13,
          "endRow": 221,
          "endCol": 16
        }
      },
      "codePos": {
        "startRow": 221,
        "startCol": 7,
        "endRow": 221,
        "endCol": 11
      }
    },
    "thenBranch": [
      {
        "type": "return",
        "lastValue": null,
        "codePos": {
          "startRow": 222,
          "startCol": 4,
          "endRow": 222,
          "endCol": 12
        },
        "value": {
          "type": "number",
          "value": 0
        }
      }
    ]
  },
  {
    "type": "assignment",
    "lastValue": null,
    "codePos": {
      "startRow": 224,
      "startCol": 2,
      "endRow": 224,
      "endCol": 24
    },
    "targetName": "result",
    "targetPath": [],
    "command": {
      "type": "command",
      "lastValue": null,
      "codePos": {
        "startRow": 224,
        "startCol": 12,
        "endRow": 224,
        "endCol": 24
      },
      "name": "_subexpr",
      "module": null,
      "args": [
        {
          "type": "subexpression",
          "body": [
            {
              "type": "command",
              "lastValue": null,
              "codePos": {
                "startRow": 224,
                "startCol": 14,
                "endRow": 224,
                "endCol": 23
              },
              "name": "add",
              "module": null,
              "args": [
                {
                  "type": "var",
                  "name": "1",
                  "path": []
                },
                {
                  "type": "var",
                  "name": "2",
                  "path": []
                }
              ]
            }
          ],
          "codePos": {
            "startRow": 224,
            "startCol": 12,
            "endRow": 224,
            "endCol": 24
          }
        }
      ]
    }
  },
  {
    "type": "return",
    "lastValue": null,
    "codePos": {
      "startRow": 225,
      "startCol": 2,
      "endRow": 225,
      "endCol": 16
    },
    "value": {
      "type": "var",
      "name": "result",
      "path": []
    }
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 226,
      "startCol": 0,
      "endRow": 226,
      "endCol": 6
    },
    "name": "endwith",
    "module": null,
    "args": []
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 227,
      "startCol": 2,
      "endRow": 227,
      "endCol": 37
    },
    "name": "log",
    "module": null,
    "args": [
      {
        "type": "string",
        "value": "-> Test 23: with block is run"
      }
    ]
  },
  {
    "type": "ifBlock",
    "lastValue": null,
    "codePos": {
      "startRow": 228,
      "startCol": 8,
      "endRow": 230,
      "endCol": 8
    },
    "condition": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 228,
          "startCol": 11,
          "endRow": 228,
          "endCol": 12
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 228,
          "startCol": 17,
          "endRow": 228,
          "endCol": 20
        }
      },
      "codePos": {
        "startRow": 228,
        "startCol": 11,
        "endRow": 228,
        "endCol": 15
      }
    },
    "conditionExpr": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 228,
          "startCol": 11,
          "endRow": 228,
          "endCol": 12
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 228,
          "startCol": 17,
          "endRow": 228,
          "endCol": 20
        }
      },
      "codePos": {
        "startRow": 228,
        "startCol": 11,
        "endRow": 228,
        "endCol": 15
      }
    },
    "thenBranch": [
      {
        "type": "return",
        "lastValue": null,
        "codePos": {
          "startRow": 229,
          "startCol": 6,
          "endRow": 229,
          "endCol": 14
        },
        "value": {
          "type": "number",
          "value": 0
        }
      }
    ]
  },
  {
    "type": "assignment",
    "lastValue": null,
    "codePos": {
      "startRow": 231,
      "startCol": 2,
      "endRow": 231,
      "endCol": 24
    },
    "targetName": "result",
    "targetPath": [],
    "command": {
      "type": "command",
      "lastValue": null,
      "codePos": {
        "startRow": 231,
        "startCol": 12,
        "endRow": 231,
        "endCol": 24
      },
      "name": "_subexpr",
      "module": null,
      "args": [
        {
          "type": "subexpression",
          "body": [
            {
              "type": "command",
              "lastValue": null,
              "codePos": {
                "startRow": 231,
                "startCol": 14,
                "endRow": 231,
                "endCol": 23
              },
              "name": "add",
              "module": null,
              "args": [
                {
                  "type": "var",
                  "name": "1",
                  "path": []
                },
                {
                  "type": "var",
                  "name": "2",
                  "path": []
                }
              ]
            }
          ],
          "codePos": {
            "startRow": 231,
            "startCol": 12,
            "endRow": 231,
            "endCol": 24
          }
        }
      ]
    }
  },
  {
    "type": "return",
    "lastValue": null,
    "codePos": {
      "startRow": 232,
      "startCol": 2,
      "endRow": 232,
      "endCol": 16
    },
    "value": {
      "type": "var",
      "name": "result",
      "path": []
    }
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 233,
      "startCol": 0,
      "endRow": 233,
      "endCol": 6
    },
    "name": "endwith",
    "module": null,
    "args": []
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 234,
      "startCol": 2,
      "endRow": 234,
      "endCol": 37
    },
    "name": "log",
    "module": null,
    "args": [
      {
        "type": "string",
        "value": "-> Test 23: with block is run"
      }
    ]
  },
  {
    "type": "ifBlock",
    "lastValue": null,
    "codePos": {
      "startRow": 235,
      "startCol": 16,
      "endRow": 237,
      "endCol": 12
    },
    "condition": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 235,
          "startCol": 19,
          "endRow": 235,
          "endCol": 20
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 235,
          "startCol": 25,
          "endRow": 235,
          "endCol": 28
        }
      },
      "codePos": {
        "startRow": 235,
        "startCol": 19,
        "endRow": 235,
        "endCol": 23
      }
    },
    "conditionExpr": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 235,
          "startCol": 19,
          "endRow": 235,
          "endCol": 20
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 235,
          "startCol": 25,
          "endRow": 235,
          "endCol": 28
        }
      },
      "codePos": {
        "startRow": 235,
        "startCol": 19,
        "endRow": 235,
        "endCol": 23
      }
    },
    "thenBranch": [
      {
        "type": "return",
        "lastValue": null,
        "codePos": {
          "startRow": 236,
          "startCol": 10,
          "endRow": 236,
          "endCol": 18
        },
        "value": {
          "type": "number",
          "value": 0
        }
      }
    ]
  },
  {
    "type": "assignment",
    "lastValue": null,
    "codePos": {
      "startRow": 238,
      "startCol": 2,
      "endRow": 238,
      "endCol": 24
    },
    "targetName": "result",
    "targetPath": [],
    "command": {
      "type": "command",
      "lastValue": null,
      "codePos": {
        "startRow": 238,
        "startCol": 12,
        "endRow": 238,
        "endCol": 24
      },
      "name": "_subexpr",
      "module": null,
      "args": [
        {
          "type": "subexpression",
          "body": [
            {
              "type": "command",
              "lastValue": null,
              "codePos": {
                "startRow": 238,
                "startCol": 14,
                "endRow": 238,
                "endCol": 23
              },
              "name": "add",
              "module": null,
              "args": [
                {
                  "type": "var",
                  "name": "1",
                  "path": []
                },
                {
                  "type": "var",
                  "name": "2",
                  "path": []
                }
              ]
            }
          ],
          "codePos": {
            "startRow": 238,
            "startCol": 12,
            "endRow": 238,
            "endCol": 24
          }
        }
      ]
    }
  },
  {
    "type": "return",
    "lastValue": null,
    "codePos": {
      "startRow": 239,
      "startCol": 2,
      "endRow": 239,
      "endCol": 16
    },
    "value": {
      "type": "var",
      "name": "result",
      "path": []
    }
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 240,
      "startCol": 0,
      "endRow": 240,
      "endCol": 6
    },
    "name": "endwith",
    "module": null,
    "args": []
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 241,
      "startCol": 2,
      "endRow": 241,
      "endCol": 37
    },
    "name": "log",
    "module": null,
    "args": [
      {
        "type": "string",
        "value": "-> Test 23: with block is run"
      }
    ]
  },
  {
    "type": "ifBlock",
    "lastValue": null,
    "codePos": {
      "startRow": 242,
      "startCol": 32,
      "endRow": 244,
      "endCol": 20
    },
    "condition": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 242,
          "startCol": 35,
          "endRow": 242,
          "endCol": 36
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 242,
          "startCol": 41,
          "endRow": 242,
          "endCol": 44
        }
      },
      "codePos": {
        "startRow": 242,
        "startCol": 35,
        "endRow": 242,
        "endCol": 39
      }
    },
    "conditionExpr": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 242,
          "startCol": 35,
          "endRow": 242,
          "endCol": 36
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 242,
          "startCol": 41,
          "endRow": 242,
          "endCol": 44
        }
      },
      "codePos": {
        "startRow": 242,
        "startCol": 35,
        "endRow": 242,
        "endCol": 39
      }
    },
    "thenBranch": [
      {
        "type": "return",
        "lastValue": null,
        "codePos": {
          "startRow": 243,
          "startCol": 18,
          "endRow": 243,
          "endCol": 26
        },
        "value": {
          "type": "number",
          "value": 0
        }
      }
    ]
  },
  {
    "type": "assignment",
    "lastValue": null,
    "codePos": {
      "startRow": 245,
      "startCol": 2,
      "endRow": 245,
      "endCol": 24
    },
    "targetName": "result",
    "targetPath": [],
    "command": {
      "type": "command",
      "lastValue": null,
      "codePos": {
        "startRow": 245,
        "startCol": 12,
        "endRow": 245,
        "endCol": 24
      },
      "name": "_subexpr",
      "module": null,
      "args": [
        {
          "type": "subexpression",
          "body": [
            {
              "type": "command",
              "lastValue": null,
              "codePos": {
                "startRow": 245,
                "startCol": 14,
                "endRow": 245,
                "endCol": 23
              },
              "name": "add",
              "module": null,
              "args": [
                {
                  "type": "var",
                  "name": "1",
                  "path": []
                },
                {
                  "type": "var",
                  "name": "2",
                  "path": []
                }
              ]
            }
          ],
          "codePos": {
            "startRow": 245,
            "startCol": 12,
            "endRow": 245,
            "endCol": 24
          }
        }
      ]
    }
  },
  {
    "type": "return",
    "lastValue": null,
    "codePos": {
      "startRow": 246,
      "startCol": 2,
      "endRow": 246,
      "endCol": 16
    },
    "value": {
      "type": "var",
      "name": "result",
      "path": []
    }
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 247,
      "startCol": 0,
      "endRow": 247,
      "endCol": 6
    },
    "name": "endwith",
    "module": null,
    "args": []
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 248,
      "startCol": 0,
      "endRow": 248,
      "endCol": 105
    },
    "trailingBlankLines": 1,
    "name": "test.assertEqual",
    "module": "test",
    "args": [
      {
        "type": "lastValue"
      },
      {
        "type": "number",
        "value": 3
      },
      {
        "type": "string",
        "value": "repeat with $1 and $2 in subexpression failed (iterations: 0+null=0, 1+0=1, 2+1=3)"
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 251,
      "startCol": 0,
      "endRow": 251,
      "endCol": 57
    },
    "comments": [
      {
        "text": "Test 24: Repeat with nested subexpressions using $1",
        "codePos": {
          "startRow": 250,
          "startCol": 0,
          "endRow": 250,
          "endCol": 52
        },
        "inline": false
      }
    ],
    "name": "log",
    "module": null,
    "args": [
      {
        "type": "string",
        "value": "Test 24: Repeat with nested subexpressions using $1"
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 252,
      "startCol": 0,
      "endRow": 252,
      "endCol": 4
    },
    "name": "clear",
    "module": null,
    "args": []
  },
  {
    "type": "assignment",
    "lastValue": null,
    "codePos": {
      "startRow": 253,
      "startCol": 0,
      "endRow": 253,
      "endCol": 11
    },
    "targetName": "product",
    "targetPath": [],
    "literalValue": 1,
    "literalValueType": "number"
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 254,
      "startCol": 0,
      "endRow": 254,
      "endCol": 7
    },
    "name": "repeat",
    "module": null,
    "args": [
      {
        "type": "number",
        "value": 4
      }
    ],
    "callback": {
      "type": "do",
      "body": [
        {
          "type": "command",
          "lastValue": null,
          "codePos": {
            "startRow": 255,
            "startCol": 2,
            "endRow": 255,
            "endCol": 37
          },
          "name": "log",
          "module": null,
          "args": [
            {
              "type": "string",
              "value": "-> Test 24: with block is run"
            }
          ]
        },
        {
          "type": "ifBlock",
          "lastValue": null,
          "codePos": {
            "startRow": 256,
            "startCol": 2,
            "endRow": 258,
            "endCol": 6
          },
          "condition": {
            "type": "binary",
            "operator": "==",
            "left": {
              "type": "var",
              "name": "2",
              "path": [],
              "codePos": {
                "startRow": 256,
                "startCol": 5,
                "endRow": 256,
                "endCol": 6
              }
            },
            "right": {
              "type": "literal",
              "value": null,
              "codePos": {
                "startRow": 256,
                "startCol": 11,
                "endRow": 256,
                "endCol": 14
              }
            },
            "codePos": {
              "startRow": 256,
              "startCol": 5,
              "endRow": 256,
              "endCol": 9
            }
          },
          "conditionExpr": {
            "type": "binary",
            "operator": "==",
            "left": {
              "type": "var",
              "name": "2",
              "path": [],
              "codePos": {
                "startRow": 256,
                "startCol": 5,
                "endRow": 256,
                "endCol": 6
              }
            },
            "right": {
              "type": "literal",
              "value": null,
              "codePos": {
                "startRow": 256,
                "startCol": 11,
                "endRow": 256,
                "endCol": 14
              }
            },
            "codePos": {
              "startRow": 256,
              "startCol": 5,
              "endRow": 256,
              "endCol": 9
            }
          },
          "thenBranch": [
            {
              "type": "return",
              "lastValue": null,
              "codePos": {
                "startRow": 257,
                "startCol": 4,
                "endRow": 257,
                "endCol": 12
              },
              "value": {
                "type": "number",
                "value": 1
              }
            }
          ]
        },
        {
          "type": "assignment",
          "lastValue": null,
          "codePos": {
            "startRow": 259,
            "startCol": 2,
            "endRow": 259,
            "endCol": 50
          },
          "targetName": "product",
          "targetPath": [],
          "command": {
            "type": "command",
            "lastValue": null,
            "codePos": {
              "startRow": 259,
              "startCol": 13,
              "endRow": 259,
              "endCol": 50
            },
            "name": "_subexpr",
            "module": null,
            "args": [
              {
                "type": "subexpression",
                "body": [
                  {
                    "type": "command",
                    "lastValue": null,
                    "codePos": {
                      "startRow": 259,
                      "startCol": 15,
                      "endRow": 259,
                      "endCol": 49
                    },
                    "name": "math.multiply",
                    "module": "math",
                    "args": [
                      {
                        "type": "var",
                        "name": "product",
                        "path": []
                      },
                      {
                        "type": "subexpression",
                        "body": [
                          {
                            "type": "command",
                            "lastValue": null,
                            "codePos": {
                              "startRow": 259,
                              "startCol": 40,
                              "endRow": 259,
                              "endCol": 48
                            },
                            "name": "add",
                            "module": null,
                            "args": [
                              {
                                "type": "var",
                                "name": "1",
                                "path": []
                              },
                              {
                                "type": "number",
                                "value": 1
                              }
                            ]
                          }
                        ],
                        "codePos": {
                          "startRow": 259,
                          "startCol": 38,
                          "endRow": 259,
                          "endCol": 49
                        }
                      }
                    ]
                  }
                ],
                "codePos": {
                  "startRow": 259,
                  "startCol": 13,
                  "endRow": 259,
                  "endCol": 50
                }
              }
            ]
          }
        },
        {
          "type": "return",
          "lastValue": null,
          "codePos": {
            "startRow": 260,
            "startCol": 2,
            "endRow": 260,
            "endCol": 17
          },
          "value": {
            "type": "var",
            "name": "product",
            "path": []
          }
        }
      ]
    }
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 262,
      "startCol": 2,
      "endRow": 262,
      "endCol": 37
    },
    "name": "log",
    "module": null,
    "args": [
      {
        "type": "string",
        "value": "-> Test 24: with block is run"
      }
    ]
  },
  {
    "type": "ifBlock",
    "lastValue": null,
    "codePos": {
      "startRow": 263,
      "startCol": 2,
      "endRow": 265,
      "endCol": 6
    },
    "condition": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 263,
          "startCol": 5,
          "endRow": 263,
          "endCol": 6
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 263,
          "startCol": 11,
          "endRow": 263,
          "endCol": 14
        }
      },
      "codePos": {
        "startRow": 263,
        "startCol": 5,
        "endRow": 263,
        "endCol": 9
      }
    },
    "conditionExpr": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 263,
          "startCol": 5,
          "endRow": 263,
          "endCol": 6
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 263,
          "startCol": 11,
          "endRow": 263,
          "endCol": 14
        }
      },
      "codePos": {
        "startRow": 263,
        "startCol": 5,
        "endRow": 263,
        "endCol": 9
      }
    },
    "thenBranch": [
      {
        "type": "return",
        "lastValue": null,
        "codePos": {
          "startRow": 264,
          "startCol": 4,
          "endRow": 264,
          "endCol": 12
        },
        "value": {
          "type": "number",
          "value": 1
        }
      }
    ]
  },
  {
    "type": "assignment",
    "lastValue": null,
    "codePos": {
      "startRow": 266,
      "startCol": 2,
      "endRow": 266,
      "endCol": 50
    },
    "targetName": "product",
    "targetPath": [],
    "command": {
      "type": "command",
      "lastValue": null,
      "codePos": {
        "startRow": 266,
        "startCol": 13,
        "endRow": 266,
        "endCol": 50
      },
      "name": "_subexpr",
      "module": null,
      "args": [
        {
          "type": "subexpression",
          "body": [
            {
              "type": "command",
              "lastValue": null,
              "codePos": {
                "startRow": 266,
                "startCol": 15,
                "endRow": 266,
                "endCol": 49
              },
              "name": "math.multiply",
              "module": "math",
              "args": [
                {
                  "type": "var",
                  "name": "product",
                  "path": []
                },
                {
                  "type": "subexpression",
                  "body": [
                    {
                      "type": "command",
                      "lastValue": null,
                      "codePos": {
                        "startRow": 266,
                        "startCol": 40,
                        "endRow": 266,
                        "endCol": 48
                      },
                      "name": "add",
                      "module": null,
                      "args": [
                        {
                          "type": "var",
                          "name": "1",
                          "path": []
                        },
                        {
                          "type": "number",
                          "value": 1
                        }
                      ]
                    }
                  ],
                  "codePos": {
                    "startRow": 266,
                    "startCol": 38,
                    "endRow": 266,
                    "endCol": 49
                  }
                }
              ]
            }
          ],
          "codePos": {
            "startRow": 266,
            "startCol": 13,
            "endRow": 266,
            "endCol": 50
          }
        }
      ]
    }
  },
  {
    "type": "return",
    "lastValue": null,
    "codePos": {
      "startRow": 267,
      "startCol": 2,
      "endRow": 267,
      "endCol": 17
    },
    "value": {
      "type": "var",
      "name": "product",
      "path": []
    }
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 268,
      "startCol": 0,
      "endRow": 268,
      "endCol": 6
    },
    "name": "endwith",
    "module": null,
    "args": []
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 269,
      "startCol": 2,
      "endRow": 269,
      "endCol": 37
    },
    "name": "log",
    "module": null,
    "args": [
      {
        "type": "string",
        "value": "-> Test 24: with block is run"
      }
    ]
  },
  {
    "type": "ifBlock",
    "lastValue": null,
    "codePos": {
      "startRow": 270,
      "startCol": 4,
      "endRow": 272,
      "endCol": 6
    },
    "condition": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 270,
          "startCol": 7,
          "endRow": 270,
          "endCol": 8
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 270,
          "startCol": 13,
          "endRow": 270,
          "endCol": 16
        }
      },
      "codePos": {
        "startRow": 270,
        "startCol": 7,
        "endRow": 270,
        "endCol": 11
      }
    },
    "conditionExpr": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 270,
          "startCol": 7,
          "endRow": 270,
          "endCol": 8
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 270,
          "startCol": 13,
          "endRow": 270,
          "endCol": 16
        }
      },
      "codePos": {
        "startRow": 270,
        "startCol": 7,
        "endRow": 270,
        "endCol": 11
      }
    },
    "thenBranch": [
      {
        "type": "return",
        "lastValue": null,
        "codePos": {
          "startRow": 271,
          "startCol": 4,
          "endRow": 271,
          "endCol": 12
        },
        "value": {
          "type": "number",
          "value": 1
        }
      }
    ]
  },
  {
    "type": "assignment",
    "lastValue": null,
    "codePos": {
      "startRow": 273,
      "startCol": 2,
      "endRow": 273,
      "endCol": 50
    },
    "targetName": "product",
    "targetPath": [],
    "command": {
      "type": "command",
      "lastValue": null,
      "codePos": {
        "startRow": 273,
        "startCol": 13,
        "endRow": 273,
        "endCol": 50
      },
      "name": "_subexpr",
      "module": null,
      "args": [
        {
          "type": "subexpression",
          "body": [
            {
              "type": "command",
              "lastValue": null,
              "codePos": {
                "startRow": 273,
                "startCol": 15,
                "endRow": 273,
                "endCol": 49
              },
              "name": "math.multiply",
              "module": "math",
              "args": [
                {
                  "type": "var",
                  "name": "product",
                  "path": []
                },
                {
                  "type": "subexpression",
                  "body": [
                    {
                      "type": "command",
                      "lastValue": null,
                      "codePos": {
                        "startRow": 273,
                        "startCol": 40,
                        "endRow": 273,
                        "endCol": 48
                      },
                      "name": "add",
                      "module": null,
                      "args": [
                        {
                          "type": "var",
                          "name": "1",
                          "path": []
                        },
                        {
                          "type": "number",
                          "value": 1
                        }
                      ]
                    }
                  ],
                  "codePos": {
                    "startRow": 273,
                    "startCol": 38,
                    "endRow": 273,
                    "endCol": 49
                  }
                }
              ]
            }
          ],
          "codePos": {
            "startRow": 273,
            "startCol": 13,
            "endRow": 273,
            "endCol": 50
          }
        }
      ]
    }
  },
  {
    "type": "return",
    "lastValue": null,
    "codePos": {
      "startRow": 274,
      "startCol": 2,
      "endRow": 274,
      "endCol": 17
    },
    "value": {
      "type": "var",
      "name": "product",
      "path": []
    }
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 275,
      "startCol": 0,
      "endRow": 275,
      "endCol": 6
    },
    "name": "endwith",
    "module": null,
    "args": []
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 276,
      "startCol": 2,
      "endRow": 276,
      "endCol": 37
    },
    "name": "log",
    "module": null,
    "args": [
      {
        "type": "string",
        "value": "-> Test 24: with block is run"
      }
    ]
  },
  {
    "type": "ifBlock",
    "lastValue": null,
    "codePos": {
      "startRow": 277,
      "startCol": 8,
      "endRow": 279,
      "endCol": 8
    },
    "condition": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 277,
          "startCol": 11,
          "endRow": 277,
          "endCol": 12
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 277,
          "startCol": 17,
          "endRow": 277,
          "endCol": 20
        }
      },
      "codePos": {
        "startRow": 277,
        "startCol": 11,
        "endRow": 277,
        "endCol": 15
      }
    },
    "conditionExpr": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 277,
          "startCol": 11,
          "endRow": 277,
          "endCol": 12
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 277,
          "startCol": 17,
          "endRow": 277,
          "endCol": 20
        }
      },
      "codePos": {
        "startRow": 277,
        "startCol": 11,
        "endRow": 277,
        "endCol": 15
      }
    },
    "thenBranch": [
      {
        "type": "return",
        "lastValue": null,
        "codePos": {
          "startRow": 278,
          "startCol": 6,
          "endRow": 278,
          "endCol": 14
        },
        "value": {
          "type": "number",
          "value": 1
        }
      }
    ]
  },
  {
    "type": "assignment",
    "lastValue": null,
    "codePos": {
      "startRow": 280,
      "startCol": 2,
      "endRow": 280,
      "endCol": 50
    },
    "targetName": "product",
    "targetPath": [],
    "command": {
      "type": "command",
      "lastValue": null,
      "codePos": {
        "startRow": 280,
        "startCol": 13,
        "endRow": 280,
        "endCol": 50
      },
      "name": "_subexpr",
      "module": null,
      "args": [
        {
          "type": "subexpression",
          "body": [
            {
              "type": "command",
              "lastValue": null,
              "codePos": {
                "startRow": 280,
                "startCol": 15,
                "endRow": 280,
                "endCol": 49
              },
              "name": "math.multiply",
              "module": "math",
              "args": [
                {
                  "type": "var",
                  "name": "product",
                  "path": []
                },
                {
                  "type": "subexpression",
                  "body": [
                    {
                      "type": "command",
                      "lastValue": null,
                      "codePos": {
                        "startRow": 280,
                        "startCol": 40,
                        "endRow": 280,
                        "endCol": 48
                      },
                      "name": "add",
                      "module": null,
                      "args": [
                        {
                          "type": "var",
                          "name": "1",
                          "path": []
                        },
                        {
                          "type": "number",
                          "value": 1
                        }
                      ]
                    }
                  ],
                  "codePos": {
                    "startRow": 280,
                    "startCol": 38,
                    "endRow": 280,
                    "endCol": 49
                  }
                }
              ]
            }
          ],
          "codePos": {
            "startRow": 280,
            "startCol": 13,
            "endRow": 280,
            "endCol": 50
          }
        }
      ]
    }
  },
  {
    "type": "return",
    "lastValue": null,
    "codePos": {
      "startRow": 281,
      "startCol": 2,
      "endRow": 281,
      "endCol": 17
    },
    "value": {
      "type": "var",
      "name": "product",
      "path": []
    }
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 282,
      "startCol": 0,
      "endRow": 282,
      "endCol": 6
    },
    "name": "endwith",
    "module": null,
    "args": []
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 283,
      "startCol": 2,
      "endRow": 283,
      "endCol": 37
    },
    "name": "log",
    "module": null,
    "args": [
      {
        "type": "string",
        "value": "-> Test 24: with block is run"
      }
    ]
  },
  {
    "type": "ifBlock",
    "lastValue": null,
    "codePos": {
      "startRow": 284,
      "startCol": 16,
      "endRow": 286,
      "endCol": 12
    },
    "condition": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 284,
          "startCol": 19,
          "endRow": 284,
          "endCol": 20
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 284,
          "startCol": 25,
          "endRow": 284,
          "endCol": 28
        }
      },
      "codePos": {
        "startRow": 284,
        "startCol": 19,
        "endRow": 284,
        "endCol": 23
      }
    },
    "conditionExpr": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 284,
          "startCol": 19,
          "endRow": 284,
          "endCol": 20
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 284,
          "startCol": 25,
          "endRow": 284,
          "endCol": 28
        }
      },
      "codePos": {
        "startRow": 284,
        "startCol": 19,
        "endRow": 284,
        "endCol": 23
      }
    },
    "thenBranch": [
      {
        "type": "return",
        "lastValue": null,
        "codePos": {
          "startRow": 285,
          "startCol": 10,
          "endRow": 285,
          "endCol": 18
        },
        "value": {
          "type": "number",
          "value": 1
        }
      }
    ]
  },
  {
    "type": "assignment",
    "lastValue": null,
    "codePos": {
      "startRow": 287,
      "startCol": 2,
      "endRow": 287,
      "endCol": 50
    },
    "targetName": "product",
    "targetPath": [],
    "command": {
      "type": "command",
      "lastValue": null,
      "codePos": {
        "startRow": 287,
        "startCol": 13,
        "endRow": 287,
        "endCol": 50
      },
      "name": "_subexpr",
      "module": null,
      "args": [
        {
          "type": "subexpression",
          "body": [
            {
              "type": "command",
              "lastValue": null,
              "codePos": {
                "startRow": 287,
                "startCol": 15,
                "endRow": 287,
                "endCol": 49
              },
              "name": "math.multiply",
              "module": "math",
              "args": [
                {
                  "type": "var",
                  "name": "product",
                  "path": []
                },
                {
                  "type": "subexpression",
                  "body": [
                    {
                      "type": "command",
                      "lastValue": null,
                      "codePos": {
                        "startRow": 287,
                        "startCol": 40,
                        "endRow": 287,
                        "endCol": 48
                      },
                      "name": "add",
                      "module": null,
                      "args": [
                        {
                          "type": "var",
                          "name": "1",
                          "path": []
                        },
                        {
                          "type": "number",
                          "value": 1
                        }
                      ]
                    }
                  ],
                  "codePos": {
                    "startRow": 287,
                    "startCol": 38,
                    "endRow": 287,
                    "endCol": 49
                  }
                }
              ]
            }
          ],
          "codePos": {
            "startRow": 287,
            "startCol": 13,
            "endRow": 287,
            "endCol": 50
          }
        }
      ]
    }
  },
  {
    "type": "return",
    "lastValue": null,
    "codePos": {
      "startRow": 288,
      "startCol": 2,
      "endRow": 288,
      "endCol": 17
    },
    "value": {
      "type": "var",
      "name": "product",
      "path": []
    }
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 289,
      "startCol": 0,
      "endRow": 289,
      "endCol": 6
    },
    "name": "endwith",
    "module": null,
    "args": []
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 290,
      "startCol": 2,
      "endRow": 290,
      "endCol": 37
    },
    "name": "log",
    "module": null,
    "args": [
      {
        "type": "string",
        "value": "-> Test 24: with block is run"
      }
    ]
  },
  {
    "type": "ifBlock",
    "lastValue": null,
    "codePos": {
      "startRow": 291,
      "startCol": 32,
      "endRow": 293,
      "endCol": 20
    },
    "condition": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 291,
          "startCol": 35,
          "endRow": 291,
          "endCol": 36
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 291,
          "startCol": 41,
          "endRow": 291,
          "endCol": 44
        }
      },
      "codePos": {
        "startRow": 291,
        "startCol": 35,
        "endRow": 291,
        "endCol": 39
      }
    },
    "conditionExpr": {
      "type": "binary",
      "operator": "==",
      "left": {
        "type": "var",
        "name": "2",
        "path": [],
        "codePos": {
          "startRow": 291,
          "startCol": 35,
          "endRow": 291,
          "endCol": 36
        }
      },
      "right": {
        "type": "literal",
        "value": null,
        "codePos": {
          "startRow": 291,
          "startCol": 41,
          "endRow": 291,
          "endCol": 44
        }
      },
      "codePos": {
        "startRow": 291,
        "startCol": 35,
        "endRow": 291,
        "endCol": 39
      }
    },
    "thenBranch": [
      {
        "type": "return",
        "lastValue": null,
        "codePos": {
          "startRow": 292,
          "startCol": 18,
          "endRow": 292,
          "endCol": 26
        },
        "value": {
          "type": "number",
          "value": 1
        }
      }
    ]
  },
  {
    "type": "assignment",
    "lastValue": null,
    "codePos": {
      "startRow": 294,
      "startCol": 2,
      "endRow": 294,
      "endCol": 50
    },
    "targetName": "product",
    "targetPath": [],
    "command": {
      "type": "command",
      "lastValue": null,
      "codePos": {
        "startRow": 294,
        "startCol": 13,
        "endRow": 294,
        "endCol": 50
      },
      "name": "_subexpr",
      "module": null,
      "args": [
        {
          "type": "subexpression",
          "body": [
            {
              "type": "command",
              "lastValue": null,
              "codePos": {
                "startRow": 294,
                "startCol": 15,
                "endRow": 294,
                "endCol": 49
              },
              "name": "math.multiply",
              "module": "math",
              "args": [
                {
                  "type": "var",
                  "name": "product",
                  "path": []
                },
                {
                  "type": "subexpression",
                  "body": [
                    {
                      "type": "command",
                      "lastValue": null,
                      "codePos": {
                        "startRow": 294,
                        "startCol": 40,
                        "endRow": 294,
                        "endCol": 48
                      },
                      "name": "add",
                      "module": null,
                      "args": [
                        {
                          "type": "var",
                          "name": "1",
                          "path": []
                        },
                        {
                          "type": "number",
                          "value": 1
                        }
                      ]
                    }
                  ],
                  "codePos": {
                    "startRow": 294,
                    "startCol": 38,
                    "endRow": 294,
                    "endCol": 49
                  }
                }
              ]
            }
          ],
          "codePos": {
            "startRow": 294,
            "startCol": 13,
            "endRow": 294,
            "endCol": 50
          }
        }
      ]
    }
  },
  {
    "type": "return",
    "lastValue": null,
    "codePos": {
      "startRow": 295,
      "startCol": 2,
      "endRow": 295,
      "endCol": 17
    },
    "value": {
      "type": "var",
      "name": "product",
      "path": []
    }
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 296,
      "startCol": 0,
      "endRow": 296,
      "endCol": 6
    },
    "name": "endwith",
    "module": null,
    "args": []
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 297,
      "startCol": 0,
      "endRow": 297,
      "endCol": 103
    },
    "trailingBlankLines": 1,
    "name": "test.assertEqual",
    "module": "test",
    "args": [
      {
        "type": "var",
        "name": "product",
        "path": []
      },
      {
        "type": "number",
        "value": 24
      },
      {
        "type": "string",
        "value": "repeat with nested subexpressions using $1 failed (should be 1*2*3*4=24)"
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 300,
      "startCol": 0,
      "endRow": 300,
      "endCol": 60
    },
    "comments": [
      {
        "text": "Test 25: Repeat with multi-line subexpression using $1",
        "codePos": {
          "startRow": 299,
          "startCol": 0,
          "endRow": 299,
          "endCol": 55
        },
        "inline": false
      }
    ],
    "name": "log",
    "module": null,
    "args": [
      {
        "type": "string",
        "value": "Test 25: Repeat with multi-line subexpression using $1"
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 301,
      "startCol": 0,
      "endRow": 301,
      "endCol": 4
    },
    "name": "clear",
    "module": null,
    "args": []
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 302,
      "startCol": 0,
      "endRow": 302,
      "endCol": 7
    },
    "name": "repeat",
    "module": null,
    "args": [
      {
        "type": "number",
        "value": 3
      }
    ],
    "callback": {
      "type": "do",
      "body": [
        {
          "type": "command",
          "lastValue": null,
          "codePos": {
            "startRow": 303,
            "startCol": 2,
            "endRow": 303,
            "endCol": 37
          },
          "name": "log",
          "module": null,
          "args": [
            {
              "type": "string",
              "value": "-> Test 25: with block is run"
            }
          ]
        },
        {
          "type": "assignment",
          "lastValue": null,
          "codePos": {
            "startRow": 304,
            "startCol": 2,
            "endRow": 307,
            "endCol": 3
          },
          "targetName": "result",
          "targetPath": [],
          "command": {
            "type": "command",
            "lastValue": null,
            "codePos": {
              "startRow": 304,
              "startCol": 12,
              "endRow": 307,
              "endCol": 3
            },
            "name": "_subexpr",
            "module": null,
            "args": [
              {
                "type": "subexpression",
                "body": [
                  {
                    "type": "command",
                    "lastValue": null,
                    "codePos": {
                      "startRow": 305,
                      "startCol": 4,
                      "endRow": 305,
                      "endCol": 12
                    },
                    "name": "add",
                    "module": null,
                    "args": [
                      {
                        "type": "var",
                        "name": "1",
                        "path": []
                      },
                      {
                        "type": "number",
                        "value": 5
                      }
                    ]
                  },
                  {
                    "type": "command",
                    "lastValue": null,
                    "codePos": {
                      "startRow": 306,
                      "startCol": 4,
                      "endRow": 306,
                      "endCol": 21
                    },
                    "name": "math.multiply",
                    "module": "math",
                    "args": [
                      {
                        "type": "lastValue"
                      },
                      {
                        "type": "number",
                        "value": 2
                      }
                    ]
                  }
                ],
                "codePos": {
                  "startRow": 304,
                  "startCol": 12,
                  "endRow": 307,
                  "endCol": 3
                }
              }
            ]
          }
        },
        {
          "type": "return",
          "lastValue": null,
          "codePos": {
            "startRow": 308,
            "startCol": 2,
            "endRow": 308,
            "endCol": 16
          },
          "value": {
            "type": "var",
            "name": "result",
            "path": []
          }
        }
      ]
    }
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 310,
      "startCol": 0,
      "endRow": 310,
      "endCol": 105
    },
    "trailingBlankLines": 1,
    "name": "test.assertEqual",
    "module": "test",
    "args": [
      {
        "type": "lastValue"
      },
      {
        "type": "number",
        "value": 14
      },
      {
        "type": "string",
        "value": "repeat with multi-line subexpression using $1 failed (last iteration: (2+5)*2=14)"
      }
    ]
  },
  {
    "type": "command",
    "lastValue": null,
    "codePos": {
      "startRow": 312,
      "startCol": 0,
      "endRow": 312,
      "endCol": 44
    },
    "name": "log",
    "module": null,
    "args": [
      {
        "type": "string",
        "value": "=== Repeat Function Tests Complete ==="
      }
    ]
  }
]